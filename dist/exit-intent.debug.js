(function (require, global) {
require = (function (cache, modules, cx) {
return function (r) {
if (!modules[r]) throw new Error(r + ' is not a module');
return cache[r] ? cache[r].exports : ((cache[r] = {
exports: {}
}, cache[r].exports = modules[r].call(cx, require, cache[r], cache[r].exports)));
};
})({}, {
0: function (require, module, exports) {
var ExitIntent, defaults, extend;
extend = require(1);
defaults = require(2);
ExitIntent = (function () {
function ExitIntent(arg) {
var options, popupOptions;
(this.el = arg.el, this.name = arg.name, options = arg.options, popupOptions = arg.popupOptions);
if (!(this instanceof ExitIntent)) {
return new ExitIntent(arguments[0]);
}
this.options = extend.clone(defaults, options);
this.popup = this.createPopup(popupOptions);
this.name = this.popup.name;
this.disabled = false;
this.isOpen = false;
this.attachOpeningEvents();
this.attachMiscEvents();
ExitIntent.instances[this.name] = this;
}
ExitIntent.prototype.createPopup = function (options) {
var popup;
options = extend({
forceOpen: true
}, options);
popup = new Popup(this.el, this.name, options);
this.name = popup.name;
return popup;
};
ExitIntent.version = "3.1.0";
ExitIntent.instances = {};
ExitIntent.disableAll = function () {
var instance, n, ref;
ref = ExitIntent.instances;
for (n in ref) {
instance = ref[n];
instance.disabled = true;
}
};
return ExitIntent;
})();
extend(this.prototype, require(4));
module.exports = ExitIntent;
return module.exports;
},
1: function (require, module, exports) {
var exports, extend, modifiers, newBuilder, normalizeKeys;
extend = require(5);
normalizeKeys = function (keys) {
var i, key, len, output;
if (keys) {
output = {};
if (typeof keys !== 'object') {
output[keys] = true;
} else {
if (!Array.isArray(keys)) {
keys = Object.keys(keys);
}
for ((i = 0, len = keys.length); i < len; i++) {
key = keys[i];
output[key] = true;
}
}
return output;
}
};
newBuilder = function (isBase) {
var builder;
builder = function (target) {
var theTarget;
var $_len = arguments.length, $_i = -1, sources = new Array($_len);
while (++$_i < $_len) sources[$_i] = arguments[$_i];
if (builder.options.target) {
theTarget = builder.options.target;
} else {
theTarget = target;
sources.shift();
}
return extend(builder.options, theTarget, sources);
};
if (isBase) {
builder.isBase = true;
}
builder.options = {};
Object.defineProperties(builder, modifiers);
return builder;
};
modifiers = {
'deep': {
get: function () {
var _;
_ = this.isBase ? newBuilder() : this;
_.options.deep = true;
return _;
}
},
'own': {
get: function () {
var _;
_ = this.isBase ? newBuilder() : this;
_.options.own = true;
return _;
}
},
'allowNull': {
get: function () {
var _;
_ = this.isBase ? newBuilder() : this;
_.options.allowNull = true;
return _;
}
},
'nullDeletes': {
get: function () {
var _;
_ = this.isBase ? newBuilder() : this;
_.options.nullDeletes = true;
return _;
}
},
'concat': {
get: function () {
var _;
_ = this.isBase ? newBuilder() : this;
_.options.concat = true;
return _;
}
},
'clone': {
get: function () {
var _;
_ = this.isBase ? newBuilder() : this;
_.options.target = {};
return _;
}
},
'notDeep': {
get: function () {
var _;
_ = this.isBase ? newBuilder() : this;
return function (keys) {
_.options.notDeep = normalizeKeys(keys);
return _;
};
}
},
'deepOnly': {
get: function () {
var _;
_ = this.isBase ? newBuilder() : this;
return function (keys) {
_.options.deepOnly = normalizeKeys(keys);
return _;
};
}
},
'keys': {
get: function () {
var _;
_ = this.isBase ? newBuilder() : this;
return function (keys) {
_.options.keys = normalizeKeys(keys);
return _;
};
}
},
'notKeys': {
get: function () {
var _;
_ = this.isBase ? newBuilder() : this;
return function (keys) {
_.options.notKeys = normalizeKeys(keys);
return _;
};
}
},
'transform': {
get: function () {
var _;
_ = this.isBase ? newBuilder() : this;
return function (transform) {
if (typeof transform === 'function') {
_.options.globalTransform = transform;
} else if (transform && typeof transform === 'object') {
_.options.transforms = transform;
}
return _;
};
}
},
'filter': {
get: function () {
var _;
_ = this.isBase ? newBuilder() : this;
return function (filter) {
if (typeof filter === 'function') {
_.options.globalFilter = filter;
} else if (filter && typeof filter === 'object') {
_.options.filters = filter;
}
return _;
};
}
}
};
module.exports = exports = newBuilder(true);
exports.version = "1.7.3";
return module.exports;
},
2: function (require, module, exports) {
module.exports = {
threshold: 15
};
return module.exports;
},
4: function (require, module, exports) {
var $, browserInfo;
browserInfo = require(7);
$ = window.jQuery;
var open = exports.open = function open() {
this.popup.open();
this.isOpen = true;
this.disabled = true;
return this.detachOpeningEvents();
};
var close = exports.close = function close() {
this.popup.close();
return this.isOpen = false;
};
var emit = exports.emit = function emit(event) {
this.el.trigger(event);
return this.popup.emit(event);
};
var replaceWith = exports.replaceWith = function replaceWith($newForm) {
this.popup.replaceWith($newForm);
return this.attachMiscEvents();
};
var attachOpeningEvents = exports.attachOpeningEvents = function attachOpeningEvents() {
var base, threshold;
if (!browserInfo.isMobile) {
base = browserInfo.isIE || browserInfo.isIE11 || browserInfo.isEdge ? 110 : 0;
threshold = this.options.threshold + base;
$(document).on("mouseleave." + this.name, (function (_this) {
return function (event) {
if (_this.disabled || Popup.prototype.isOpen || event.relatedTarget) {
return;
}
if (event.clientY <= threshold) {
_this.open();
return _this.emit('mouseopen');
}
};
})(this));
}
if (!(browserInfo.isIE || browserInfo.isIE11 || browserInfo.isMobile || this.disabled || this.isOpen)) {
window.history.replaceState({
id: 'exit-init'
}, '', '');
window.history.pushState({
id: 'exit-control'
}, '', '');
return $(window).on('popstate', (function (_this) {
return function (e) {
if (!_this.disabled && ('state' in window.history) && window.history.state !== null && window.history.state.id !== 'exit-control') {
_this.open();
return _this.emit('historyopen');
} else {
return window.history.back();
}
};
})(this));
}
};
var attachMiscEvents = exports.attachMiscEvents = function attachMiscEvents() {
this.el.find('.no').on("click." + this.name, (function (_this) {
return function () {
_this.close();
try {
return localStorage.setItem('exit_intent-complete', 'true');
} catch (error) {}
};
})(this));
this.el.find('.submit').on("click." + this.name, (function (_this) {
return function () {
return _this.emit('submitted');
};
})(this));
return this.el.find('.step').first().find('.next').on("click." + this.name, (function (_this) {
return function () {
return _this.emit('continued');
};
})(this));
};
var detachEvents = exports.detachEvents = function detachEvents() {
this.el.find('.no').off("click." + this.name);
this.el.find('.submit').off("click." + this.name);
this.el.find('.step').first().find('.next').off("click." + this.name);
return this.detachOpeningEvents();
};
var detachOpeningEvents = exports.detachOpeningEvents = function detachOpeningEvents() {
return $(document).off("mouseleave." + this.name);
};
return module.exports;
},
5: function (require, module, exports) {
var extend, isArray, isObject, shouldDeepExtend;
isArray = function (target) {
return Array.isArray(target);
};
isObject = function (target) {
return target && Object.prototype.toString.call(target) === '[object Object]' || isArray(target);
};
shouldDeepExtend = function (options, target, parentKey) {
if (options.deep) {
if (options.notDeep) {
return !options.notDeep[target];
} else {
return true;
}
} else if (options.deepOnly) {
return options.deepOnly[target] || parentKey && shouldDeepExtend(options, parentKey);
}
};
module.exports = extend = function (options, target, sources, parentKey) {
var i, key, len, source, sourceValue, subTarget, targetValue;
if (!target || typeof target !== 'object' && typeof target !== 'function') {
target = {};
}
for ((i = 0, len = sources.length); i < len; i++) {
source = sources[i];
if (source != null) {
for (key in source) {
sourceValue = source[key];
targetValue = target[key];
if (sourceValue === target || sourceValue === void 0 || (sourceValue === null && !options.allowNull && !options.nullDeletes) || (options.keys && !options.keys[key]) || (options.notKeys && options.notKeys[key]) || (options.own && !source.hasOwnProperty(key)) || (options.globalFilter && !options.globalFilter(sourceValue, key, source)) || (options.filters && options.filters[key] && !options.filters[key](sourceValue, key, source))) {
continue;
}
if (sourceValue === null && options.nullDeletes) {
delete target[key];
continue;
}
if (options.globalTransform) {
sourceValue = options.globalTransform(sourceValue, key, source);
}
if (options.transforms && options.transforms[key]) {
sourceValue = options.transforms[key](sourceValue, key, source);
}
switch (false) {
case !(options.concat && isArray(sourceValue) && isArray(targetValue)):
target[key] = targetValue.concat(sourceValue);
break;
case !(shouldDeepExtend(options, key, parentKey) && isObject(sourceValue)):
subTarget = isObject(targetValue) ? targetValue : isArray(sourceValue) ? [] : {};
target[key] = extend(options, subTarget, [sourceValue], key);
break;
default:
target[key] = sourceValue;
}
}
}
}
return target;
};
return module.exports;
},
7: function (require, module, exports) {
var ref;
module.exports = {
isIE: document.all && !window.atob,
isIE11: window.navigator.msPointerEnabled,
isEdge: (/Edge/).test(((ref = window.navigator) != null ? ref.userAgent : void 0) || ''),
isMobile: document.documentElement.className.indexOf('mobile') !== -1
};
return module.exports;
}
}, this);
return require(0);
}).call(this, null, typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : this);


//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluZGV4LmNvZmZlZSIsIi4uL3BhY2thZ2UuanNvbiIsIi4uL25vZGVfbW9kdWxlcy9zbWFydC1leHRlbmQvc3JjL2luZGV4LmNvZmZlZSIsIi4uL25vZGVfbW9kdWxlcy9zbWFydC1leHRlbmQvcGFja2FnZS5qc29uIiwiZGVmYXVsdHMuY29mZmVlIiwicHJvdG90eXBlLmNvZmZlZSIsIi4uL25vZGVfbW9kdWxlcy9zbWFydC1leHRlbmQvc3JjL2V4dGVuZC5jb2ZmZWUiLCJicm93c2VySW5mby5jb2ZmZWUiXSwibmFtZXMiOlsiRXhpdEludGVudCIsImRlZmF1bHRzIiwiYXJnIiwib3B0aW9ucyIsImVsIiwibmFtZSIsInBvcHVwT3B0aW9ucyIsImFyZ3VtZW50cyIsImV4dGVuZCIsImNsb25lIiwicG9wdXAiLCJjcmVhdGVQb3B1cCIsImRpc2FibGVkIiwiaXNPcGVuIiwiYXR0YWNoT3BlbmluZ0V2ZW50cyIsImF0dGFjaE1pc2NFdmVudHMiLCJpbnN0YW5jZXMiLCJmb3JjZU9wZW4iLCJQb3B1cCIsInZlcnNpb24iLCJkaXNhYmxlQWxsIiwiaW5zdGFuY2UiLCJwcm90b3R5cGUiLCJtb2R1bGUiLCJleHBvcnRzIiwibm9ybWFsaXplS2V5cyIsImtleXMiLCJpIiwib3V0cHV0IiwiQXJyYXkiLCJpc0FycmF5IiwiT2JqZWN0Iiwia2V5IiwibmV3QnVpbGRlciIsImlzQmFzZSIsImJ1aWxkZXIiLCJ0YXJnZXQiLCJ0aGVUYXJnZXQiLCJsZW5ndGgiLCIkX2kiLCJzb3VyY2VzIiwic2hpZnQiLCJkZWZpbmVQcm9wZXJ0aWVzIiwibW9kaWZpZXJzIiwiZ2V0IiwiXyIsImRlZXAiLCJvd24iLCJhbGxvd051bGwiLCJudWxsRGVsZXRlcyIsImNvbmNhdCIsIm5vdERlZXAiLCJkZWVwT25seSIsIm5vdEtleXMiLCJ0cmFuc2Zvcm0iLCJnbG9iYWxUcmFuc2Zvcm0iLCJ0cmFuc2Zvcm1zIiwiZmlsdGVyIiwiZ2xvYmFsRmlsdGVyIiwiZmlsdGVycyIsInRocmVzaG9sZCIsIiQiLCJ3aW5kb3ciLCJqUXVlcnkiLCJvcGVuIiwiZGV0YWNoT3BlbmluZ0V2ZW50cyIsImNsb3NlIiwiZW1pdCIsImV2ZW50IiwidHJpZ2dlciIsIiRuZXdGb3JtIiwicmVwbGFjZVdpdGgiLCJiYXNlIiwiYnJvd3NlckluZm8iLCJpc01vYmlsZSIsImlzSUUiLCJpc0lFMTEiLCJpc0VkZ2UiLCJkb2N1bWVudCIsIm9uIiwiX3RoaXMiLCJyZWxhdGVkVGFyZ2V0IiwiY2xpZW50WSIsImhpc3RvcnkiLCJyZXBsYWNlU3RhdGUiLCJpZCIsInB1c2hTdGF0ZSIsImUiLCJzdGF0ZSIsImJhY2siLCJmaW5kIiwibG9jYWxTdG9yYWdlIiwic2V0SXRlbSIsImVycm9yIiwiZmlyc3QiLCJkZXRhY2hFdmVudHMiLCJvZmYiLCJpc09iamVjdCIsInRvU3RyaW5nIiwiY2FsbCIsInNob3VsZERlZXBFeHRlbmQiLCJwYXJlbnRLZXkiLCJzb3VyY2UiLCJzb3VyY2VWYWx1ZSIsInRhcmdldFZhbHVlIiwiaGFzT3duUHJvcGVydHkiLCJzdWJUYXJnZXQiLCJyZWYiLCJhbGwiLCJhdG9iIiwibmF2aWdhdG9yIiwibXNQb2ludGVyRW5hYmxlZCIsInRlc3QiLCJ1c2VyQWdlbnQiLCJkb2N1bWVudEVsZW1lbnQiLCJjbGFzc05hbWUiLCJpbmRleE9mIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7O0FBQUFBO1NBQVM7QUFDVEMsV0FBVztBQUVMRDtBQUNRLG9CQUFDRSxLQUFEO0FBQ1pDO0FBRGMsTUFBQ0MsYUFBSSxLQUFDQyxpQkFBTUYsdUJBQVNHO0FBQ25DLElBQXVDLGtCQUFpQk4sYUFBeEQ7T0FBTyxJQUFJQSxXQUFXTyxVQUFVOztBQUNoQyxLQUFDSixVQUFVSyxPQUFPQyxNQUFNUixVQUFVRTtBQUNsQyxLQUFDTyxRQUFRLEtBQUNDLFlBQVlMO0FBQ3RCLEtBQUNELE9BQU8sS0FBQ0ssTUFBTUw7QUFDZixLQUFDTyxXQUFXO0FBQ1osS0FBQ0MsU0FBUztBQUdWLEtBQUNDO0FBQ0QsS0FBQ0M7QUFDRGYsV0FBV2dCLFVBQVUsS0FBQ1gsUUFBUTs7cUJBRS9CTSxjQUFhLFVBQUNSLFNBQUQ7QUFDWk87VUFBVUYsT0FBTztBQUFDUyxXQUFVO0dBQU9kO0FBQ25DTyxRQUFRLElBQUlRLE1BQU0sS0FBQ2QsSUFBSSxLQUFDQyxNQUFNRjtBQUM5QixLQUFDRSxPQUFPSyxNQUFNTDtBQUNkLE9BQU9LOztBQUdSVixXQUFDbUIsVUN4QkY7QUR5QkNuQixXQUFDZ0IsWUFBWTtBQUNiaEIsV0FBQ29CLGFBQWE7QUFDYkM7Ozs7QUFDQ0EsU0FBU1QsV0FBVzs7Ozs7QUFJdkJKLE9BQU8sS0FBQ2MsV0FBSTtBQUdaQyxPQUFPQyxVQUFVeEI7Ozs7QUVuQ2pCd0I7U0FBUztBQUVUQyxnQkFBZ0IsVUFBQ0MsTUFBRDtBQUFTQztJQUFHRCxNQUFIO0FBQ3hCRSxTQUFTO0FBQ1QsSUFBRyxPQUFPRixTQUFVLFVBQXBCO0FBQ0NFLE9BQU9GLFFBQVE7T0FEaEI7QUFHQyxJQUE0QixDQUFJRyxNQUFNQyxRQUFRSixPQUE5Q0E7T0FBT0ssT0FBT0wsS0FBS0E7O0FBQ25CQzs7T0FBT0ssT0FBTzs7O0FBRWYsT0FBT0o7OztBQUdSSyxhQUFhLFVBQUNDLFFBQUQ7QUFDWkM7VUFBVSxVQUFDQyxRQUFEO0FBQ1RDO3NCQUFpQkMsUUFBakJDOztBQUNBLElBQUdKLFFBQVFoQyxRQUFRaUMsUUFBbkI7QUFDQ0MsWUFBWUYsUUFBUWhDLFFBQVFpQztPQUQ3QjtBQUdDQyxZQUFZRDtBQUNaSSxRQUFRQzs7T0FFVGpDLE9BQU8yQixRQUFRaEMsU0FBU2tDLFdBQVdHOztBQUVwQyxJQUF5Qk4sUUFBekJDO1FBQVFELFNBQVM7O0FBQ2pCQyxRQUFRaEMsVUFBVTtBQUNsQjRCLE9BQU9XLGlCQUFpQlAsU0FBU1E7QUFDakMsT0FBT1I7O0FBR1JRLFlBQ0M7UUFBUUM7S0FBSztBQUNaQztJQUFPLEtBQUNYLFNBQVlELGVBQWtCO0FBQ3RDWSxFQUFFMUMsUUFBUTJDLE9BQU87QUFDakIsT0FBT0Q7OztBQUVSLE9BQU9EO0tBQUs7QUFDWEM7SUFBTyxLQUFDWCxTQUFZRCxlQUFrQjtBQUN0Q1ksRUFBRTFDLFFBQVE0QyxNQUFNO0FBQ2hCLE9BQU9GOzs7QUFFUixhQUFhRDtLQUFLO0FBQ2pCQztJQUFPLEtBQUNYLFNBQVlELGVBQWtCO0FBQ3RDWSxFQUFFMUMsUUFBUTZDLFlBQVk7QUFDdEIsT0FBT0g7OztBQUVSLGVBQWVEO0tBQUs7QUFDbkJDO0lBQU8sS0FBQ1gsU0FBWUQsZUFBa0I7QUFDdENZLEVBQUUxQyxRQUFROEMsY0FBYztBQUN4QixPQUFPSjs7O0FBRVIsVUFBVUQ7S0FBSztBQUNkQztJQUFPLEtBQUNYLFNBQVlELGVBQWtCO0FBQ3RDWSxFQUFFMUMsUUFBUStDLFNBQVM7QUFDbkIsT0FBT0w7OztBQUVSLFNBQVNEO0tBQUs7QUFDYkM7SUFBTyxLQUFDWCxTQUFZRCxlQUFrQjtBQUN0Q1ksRUFBRTFDLFFBQVFpQyxTQUFTO0FBQ25CLE9BQU9TOzs7QUFFUixXQUFXRDtLQUFLO0FBQ2ZDO0lBQU8sS0FBQ1gsU0FBWUQsZUFBa0I7QUFDdEMsT0FBTyxVQUFDUCxNQUFEO0FBQ05tQixFQUFFMUMsUUFBUWdELFVBQVUxQixjQUFjQztBQUNsQyxPQUFPbUI7Ozs7QUFFVCxZQUFZRDtLQUFLO0FBQ2hCQztJQUFPLEtBQUNYLFNBQVlELGVBQWtCO0FBQ3RDLE9BQU8sVUFBQ1AsTUFBRDtBQUNObUIsRUFBRTFDLFFBQVFpRCxXQUFXM0IsY0FBY0M7QUFDbkMsT0FBT21COzs7O0FBRVQsUUFBUUQ7S0FBSztBQUNaQztJQUFPLEtBQUNYLFNBQVlELGVBQWtCO0FBQ3RDLE9BQU8sVUFBQ1AsTUFBRDtBQUNObUIsRUFBRTFDLFFBQVF1QixPQUFPRCxjQUFjQztBQUMvQixPQUFPbUI7Ozs7QUFFVCxXQUFXRDtLQUFLO0FBQ2ZDO0lBQU8sS0FBQ1gsU0FBWUQsZUFBa0I7QUFDdEMsT0FBTyxVQUFDUCxNQUFEO0FBQ05tQixFQUFFMUMsUUFBUWtELFVBQVU1QixjQUFjQztBQUNsQyxPQUFPbUI7Ozs7QUFFVCxhQUFhRDtLQUFLO0FBQ2pCQztJQUFPLEtBQUNYLFNBQVlELGVBQWtCO0FBQ3RDLE9BQU8sVUFBQ3FCLFdBQUQ7QUFDTixJQUFHLE9BQU9BLGNBQWEsWUFBdkI7QUFDQ1QsRUFBRTFDLFFBQVFvRCxrQkFBa0JEO09BQ3hCLElBQUdBLGFBQWMsT0FBT0EsY0FBYSxVQUFyQztBQUNKVCxFQUFFMUMsUUFBUXFELGFBQWFGOztBQUV4QixPQUFPVDs7OztBQUdULFVBQVVEO0tBQUs7QUFDZEM7SUFBTyxLQUFDWCxTQUFZRCxlQUFrQjtBQUN0QyxPQUFPLFVBQUN3QixRQUFEO0FBQ04sSUFBRyxPQUFPQSxXQUFVLFlBQXBCO0FBQ0NaLEVBQUUxQyxRQUFRdUQsZUFBZUQ7T0FDckIsSUFBR0EsVUFBVyxPQUFPQSxXQUFVLFVBQS9CO0FBQ0paLEVBQUUxQyxRQUFRd0QsVUFBVUY7O0FBRXJCLE9BQU9aOzs7OztBQUlWdEIsT0FBT0MsVUFBVUEsVUFBVVMsV0FBVztBQUN0Q1QsUUFBUUwsVUM3R1JJOzs7O09DQU9DLFVBQ05vQztXQUFXOzs7OztBQ0RaQztjQUFjO0FBQ2RBLElBQUlDLE9BQU9DO0FBRVgsSUFBTyxzQkFBTztBQUNiLEtBQUNyRCxNQUFNc0Q7QUFDUCxLQUFDbkQsU0FBUztBQUNWLEtBQUNELFdBQVc7T0FDWixLQUFDcUQ7O0FBRUYsSUFBTyxBQUhMQyx3QkFHYTtBQUNkLEtBQUN4RCxNQUFNd0Q7T0FDUCxLQUFDckQsU0FBUzs7QUFFWCxJQUFPLEFBSlBzRCxzQkFJYyxjQUFDQyxPQUFEO0FBQ2IsS0FBQ2hFLEdBQUdpRSxRQUFRRDtPQUNaLEtBQUMxRCxNQUFNeUQsS0FBS0M7O0FBRWIsSUFBTyxvQ0FBYyxxQkFBQ0UsVUFBRDtBQUNwQixLQUFDNUQsTUFBTTZELFlBQVlEO09BQ25CLEtBQUN2RDs7QUFNRixJQUFPLG9EQUFzQjtBQUM1QnlEO0FBSUEsS0FBT0MsWUFBWUMsVUFBbkI7QUFDQ0YsT0FBVUMsWUFBWUUsUUFBUUYsWUFBWUcsVUFBVUgsWUFBWUksU0FBWSxNQUFTO0FBQ3JGakIsWUFBWSxLQUFDekQsUUFBUXlELFlBQVlZO0FBQ2pDWCxFQUFFaUIsVUFBVUMsR0FBRyxnQkFBYyxLQUFDMUUsTUFBUTJFO2lCQUFDWixPQUFEO0FBQ3JDLElBQVVZLE1BQUNwRSxZQUFZTSxNQUFLSSxVQUFFVCxVQUFVdUQsTUFBTWEsZUFBOUM7OztBQUNBLElBQUdiLE1BQU1jLFdBQVd0QixXQUFwQjtBQUNDb0IsTUFBQ2hCO09BQ0RnQixNQUFDYixLQUFLOzs7R0FKOEI7O0FBY3ZDLE1BQU9NLFlBQVlFLFFBQVFGLFlBQVlHLFVBQVVILFlBQVlDLFlBQVksS0FBQzlELFlBQVksS0FBQ0MsU0FBdkY7QUFDQ2lELE9BQU9xQixRQUFRQyxhQUFhO0FBQUNDLElBQUk7R0FBYyxJQUFJO0FBQ25EdkIsT0FBT3FCLFFBQVFHLFVBQVU7QUFBQ0QsSUFBSTtHQUFpQixJQUFJO09BRW5EeEIsRUFBRUMsUUFBUWlCLEdBQUcsWUFBWUM7aUJBQUNPLEdBQUQ7QUFDeEIsSUFBRyxDQUFDUCxNQUFDcEUsWUFBYSxZQUFXa0QsT0FBT3FCLFlBQVlyQixPQUFPcUIsUUFBUUssVUFBVyxRQUFTMUIsT0FBT3FCLFFBQVFLLE1BQU1ILE9BQU0sZ0JBQTlHO0FBQ0NMLE1BQUNoQjtPQUNEZ0IsTUFBQ2IsS0FBSztPQUZQO09BSUNMLE9BQU9xQixRQUFRTTs7O0dBTFE7OztBQVkzQixJQUFPLEFBZHFCMUUsOENBY0Y7QUFDekIsS0FBQ1gsR0FBR3NGLEtBQUssT0FBT1gsR0FBRyxXQUFTLEtBQUMxRSxNQUFRMkU7O0FBQ3BDQSxNQUFDZDtBQUNEO09BQUl5QixhQUFhQyxRQUFRLHdCQUF3QjtTQUFqREM7O0dBRm9DO0FBS3JDLEtBQUN6RixHQUFHc0YsS0FBSyxXQUFXWCxHQUFHLFdBQVMsS0FBQzFFLE1BQVEyRTs7T0FDeENBLE1BQUNiLEtBQUs7O0dBRGtDO09BSXpDLEtBQUMvRCxHQUFHc0YsS0FBSyxTQUFTSSxRQUFRSixLQUFLLFNBQVNYLEdBQUcsV0FBUyxLQUFDMUUsTUFBUTJFOztPQUM1REEsTUFBQ2IsS0FBSzs7R0FEc0Q7O0FBTTlELElBQU8sQUFmTDRCLHNDQWVvQjtBQUNyQixLQUFDM0YsR0FBR3NGLEtBQUssT0FBT00sSUFBSSxXQUFTLEtBQUMzRjtBQUM5QixLQUFDRCxHQUFHc0YsS0FBSyxXQUFXTSxJQUFJLFdBQVMsS0FBQzNGO0FBQ2xDLEtBQUNELEdBQUdzRixLQUFLLFNBQVNJLFFBQVFKLEtBQUssU0FBU00sSUFBSSxXQUFTLEtBQUMzRjtPQUN0RCxLQUFDNEQ7O0FBRUYsSUFBTyxBQXJCK0JBLG9EQXFCVDtPQUM1QkosRUFBRWlCLFVBQVVrQixJQUFJLGdCQUFjLEtBQUMzRjs7Ozs7QUN0RmhDRztVQUFVLFVBQUM0QixRQUFEO09BQ1RQLE1BQU1DLFFBQVFNOztBQUVmNkQsV0FBVyxVQUFDN0QsUUFBRDtPQUNWQSxVQUFXTCxPQUFNVCxVQUFFNEUsU0FBU0MsS0FBSy9ELFlBQVcscUJBQXFCTixRQUFRTTs7QUFFMUVnRSxtQkFBbUIsVUFBQ2pHLFNBQVNpQyxRQUFRaUUsV0FBbEI7QUFDbEIsSUFBR2xHLFFBQVEyQyxNQUFYO0FBQ0MsSUFBRzNDLFFBQVFnRCxTQUFYO09BQXdCLENBQUloRCxRQUFRZ0QsUUFBUWY7T0FBNUM7T0FBeUQ7O09BRXJELElBQUdqQyxRQUFRaUQsVUFBWDtPQUNKakQsUUFBUWlELFNBQVNoQixXQUFXaUUsYUFBY0QsaUJBQWlCakcsU0FBU2tHOzs7QUFLdEU5RSxPQUFPQyxVQUFVaEIsU0FBUyxVQUFDTCxTQUFTaUMsUUFBUUksU0FBUzZELFdBQTNCO0FBQ3pCMUU7SUFBZSxDQUFJUyxVQUFVLE9BQU9BLFdBQVksWUFBYSxPQUFPQSxXQUFZLFlBQWhGQTtTQUFTOztBQUVUVDs7SUFBMkIyRTtBQUMxQnRFO0FBQ0N1RSxjQUFjRCxPQUFPdEU7QUFDckJ3RSxjQUFjcEUsT0FBT0o7QUFFckIsSUFBWXVFLGdCQUFlbkUsVUFDeEJtRSxnQkFBZSxVQUNmLENBQUNBLGdCQUFlLFFBQVMsQ0FBSXBHLFFBQVE2QyxhQUFjLENBQUk3QyxRQUFROEMsZ0JBQy9ELENBQUM5QyxRQUFRdUIsUUFBUyxDQUFJdkIsUUFBUXVCLEtBQUtNLFNBQ25DLENBQUM3QixRQUFRa0QsV0FBWWxELFFBQVFrRCxRQUFRckIsU0FDckMsQ0FBQzdCLFFBQVE0QyxPQUFRLENBQUl1RCxPQUFPRyxlQUFlekUsU0FDM0MsQ0FBQzdCLFFBQVF1RCxnQkFBaUIsQ0FBSXZELFFBQVF1RCxhQUFhNkMsYUFBYXZFLEtBQUtzRSxZQUNyRSxDQUFDbkcsUUFBUXdELFdBQVl4RCxRQUFRd0QsUUFBUTNCLFFBQVMsQ0FBSTdCLFFBQVF3RCxRQUFRM0IsS0FBS3VFLGFBQWF2RSxLQUFLc0UsVUFQNUY7OztBQVNBLElBQUdDLGdCQUFlLFFBQVNwRyxRQUFROEMsYUFBbkM7QUFDQyxPQUFPYixPQUFPSjtBQUNkOztBQUNELElBQUc3QixRQUFRb0QsaUJBQVg7QUFDQ2dELGNBQWNwRyxRQUFRb0QsZ0JBQWdCZ0QsYUFBYXZFLEtBQUtzRTs7QUFDekQsSUFBR25HLFFBQVFxRCxjQUFlckQsUUFBUXFELFdBQVd4QixNQUE3QztBQUNDdUUsY0FBY3BHLFFBQVFxRCxXQUFXeEIsS0FBS3VFLGFBQWF2RSxLQUFLc0U7O0FBRXpEO09BQ01uRyxRQUFRK0MsVUFBV3BCLFFBQVF5RSxnQkFBaUJ6RSxRQUFRMEU7QUFDeERwRSxPQUFPSixPQUFPd0UsWUFBWXRELE9BQU9xRDs7S0FGbkMsRUFJTUgsaUJBQWlCakcsU0FBUzZCLEtBQUtxRSxjQUFlSixTQUFTTTtBQUMzREcsWUFBZVQsU0FBU08sZUFBa0JBLGNBQW9CMUUsUUFBUXlFLGVBQWtCLEtBQVE7QUFDaEduRSxPQUFPSixPQUFPeEIsT0FBT0wsU0FBU3VHLFdBQVcsQ0FBQ0gsY0FBY3ZFOzs7QUFHeERJLE9BQU9KLE9BQU91RTs7Ozs7QUFHbEIsT0FBT25FOzs7OztBQ3JEUnVFO09BQU9uRixVQUNObUQ7TUFBTUcsU0FBUzhCLE9BQVEsQ0FBQzlDLE9BQU8rQztBQUMvQmpDLFFBQVFkLE9BQU9nRCxVQUFVQztBQUN6QmxDLFFBQVEsU0FBT21DLEtBQVBMLHdDQUE4Qk0sdUJBQWE7QUFDbkR2QyxVQUFVSSxTQUFTb0MsZ0JBQWdCQyxVQUFVQyxRQUFRLGNBQWUsQ0FBQyIsImZpbGUiOiJidW5kbGUuanMiLCJzb3VyY2VzQ29udGVudCI6W251bGwsIntcbiAgXCJuYW1lXCI6IFwiQGRhbmllbGthbGVuL2V4aXQtaW50ZW50XCIsXG4gIFwidmVyc2lvblwiOiBcIjMuMS4wXCIsXG4gIFwiZGVzY3JpcHRpb25cIjogXCJFeGl0IEludGVudCBFbmdpbmVcIixcbiAgXCJtYWluXCI6IFwiZGlzdC9leGl0LWludGVudC5qc1wiLFxuICBcImJyb3dzZXJcIjoge1xuICAgIFwiLi9kaXN0L2V4aXQtaW50ZW50LmpzXCI6IFwic3JjL2V4aXQtaW50ZW50LmNvZmZlZVwiLFxuICAgIFwiLi9zcmNcIjogXCJzcmMvZXhpdC1pbnRlbnQuY29mZmVlXCIsXG4gICAgXCIuL2RlYnVnXCI6IFwiZGlzdC9leGl0LWludGVudC5kZWJ1Zy5qc1wiXG4gIH0sXG4gIFwiZGV2RGVwZW5kZW5jaWVzXCI6IHtcbiAgICBcImNvZmZlZS1zY3JpcHRcIjogXCJeMS4xMi4wXCIsXG4gICAgXCJzaW1wbHlpbXBvcnRcIjogXCJeNC4wLjAtdDFcIixcbiAgICBcInNpbXBseXdhdGNoXCI6IFwiXjMuMC4wLWwyXCIsXG4gICAgXCJ1Z2xpZnktanNcIjogXCJeMi42LjJcIlxuICB9LFxuICBcInBlZXJEZXBlbmRlbmNpZXNcIjoge1xuICAgIFwianF1ZXJ5XCI6IFwiKlwiLFxuICAgIFwiQGRhbmllbGthbGVuL3BvcHVwLWVuZ2luZVwiOiBcIl4zLjAuMFwiXG4gIH0sXG4gIFwic2NyaXB0c1wiOiB7XG4gICAgXCJwb3N0dmVyc2lvblwiOiBcIm5wbSBydW4gYnVpbGQgJiYgZ2l0IGFkZCAuICYmIGdpdCBjb21taXQgLWEgLW0gJ1tCdWlsZF0nXCIsXG4gICAgXCJwb3N0cHVibGlzaFwiOiBcImdpdCBwdXNoXCIsXG4gICAgXCJidWlsZFwiOiBcIm5wbSBydW4gY29tcGlsZSAmJiBucG0gcnVuIG1pbmlmeVwiLFxuICAgIFwiY29tcGlsZVwiOiBcInNpbXBseWltcG9ydCBidW5kbGUgLWQgc3JjL2luZGV4LmNvZmZlZSA+IGRpc3QvZXhpdC1pbnRlbnQuZGVidWcuanNcIixcbiAgICBcIm1pbmlmeVwiOiBcInVnbGlmeWpzIGRpc3QvZXhpdC1pbnRlbnQuZGVidWcuanMgLW0gLWMga2VlcF9mYXJncyx1bnVzZWQ9ZmFsc2UgLW8gZGlzdC9leGl0LWludGVudC5qc1wiLFxuICAgIFwid2F0Y2hcIjogXCJzaW1wbHl3YXRjaCAtZyAnc3JjLyonIC14ICducG0gcnVuIGNvbXBpbGUgLXMnXCJcbiAgfSxcbiAgXCJyZXBvc2l0b3J5XCI6IHtcbiAgICBcInR5cGVcIjogXCJnaXRcIixcbiAgICBcInVybFwiOiBcImdpdCtodHRwczovL2dpdGh1Yi5jb20vZGFuaWVsa2FsZW4vZXhpdC1pbnRlbnQuZ2l0XCJcbiAgfSxcbiAgXCJhdXRob3JcIjogXCJEYW5pZWwgS2FsZW5cIixcbiAgXCJsaWNlbnNlXCI6IFwiSVNDXCIsXG4gIFwiYnVnc1wiOiB7XG4gICAgXCJ1cmxcIjogXCJodHRwczovL2dpdGh1Yi5jb20vZGFuaWVsa2FsZW4vZXhpdC1pbnRlbnQvaXNzdWVzXCJcbiAgfSxcbiAgXCJob21lcGFnZVwiOiBcImh0dHBzOi8vZ2l0aHViLmNvbS9kYW5pZWxrYWxlbi9leGl0LWludGVudCNyZWFkbWVcIixcbiAgXCJkZXBlbmRlbmNpZXNcIjoge1xuICAgIFwic21hcnQtZXh0ZW5kXCI6IFwiXjEuNy4zXCJcbiAgfVxufVxuIiwiZXh0ZW5kID0gcmVxdWlyZSAnLi9leHRlbmQnXG5cbm5vcm1hbGl6ZUtleXMgPSAoa2V5cyktPiBpZiBrZXlzXG5cdG91dHB1dCA9IHt9XG5cdGlmIHR5cGVvZiBrZXlzIGlzbnQgJ29iamVjdCdcblx0XHRvdXRwdXRba2V5c10gPSB0cnVlXG5cdGVsc2Vcblx0XHRrZXlzID0gT2JqZWN0LmtleXMoa2V5cykgaWYgbm90IEFycmF5LmlzQXJyYXkoa2V5cylcblx0XHRvdXRwdXRba2V5XSA9IHRydWUgZm9yIGtleSBpbiBrZXlzXG5cblx0cmV0dXJuIG91dHB1dFxuXG5cbm5ld0J1aWxkZXIgPSAoaXNCYXNlKS0+XG5cdGJ1aWxkZXIgPSAodGFyZ2V0KS0+XG5cdFx0RVhQQU5EX0FSR1VNRU5UUyhzb3VyY2VzKVxuXHRcdGlmIGJ1aWxkZXIub3B0aW9ucy50YXJnZXRcblx0XHRcdHRoZVRhcmdldCA9IGJ1aWxkZXIub3B0aW9ucy50YXJnZXRcblx0XHRlbHNlXG5cdFx0XHR0aGVUYXJnZXQgPSB0YXJnZXRcblx0XHRcdHNvdXJjZXMuc2hpZnQoKVxuXHRcdFxuXHRcdGV4dGVuZChidWlsZGVyLm9wdGlvbnMsIHRoZVRhcmdldCwgc291cmNlcylcblx0XG5cdGJ1aWxkZXIuaXNCYXNlID0gdHJ1ZSBpZiBpc0Jhc2Vcblx0YnVpbGRlci5vcHRpb25zID0ge31cblx0T2JqZWN0LmRlZmluZVByb3BlcnRpZXMoYnVpbGRlciwgbW9kaWZpZXJzKVxuXHRyZXR1cm4gYnVpbGRlclxuXG5cbm1vZGlmaWVycyA9IFxuXHQnZGVlcCc6IGdldDogKCktPlxuXHRcdF8gPSBpZiBAaXNCYXNlIHRoZW4gbmV3QnVpbGRlcigpIGVsc2UgQFxuXHRcdF8ub3B0aW9ucy5kZWVwID0gdHJ1ZVxuXHRcdHJldHVybiBfXG5cblx0J293bic6IGdldDogKCktPlxuXHRcdF8gPSBpZiBAaXNCYXNlIHRoZW4gbmV3QnVpbGRlcigpIGVsc2UgQFxuXHRcdF8ub3B0aW9ucy5vd24gPSB0cnVlXG5cdFx0cmV0dXJuIF9cblxuXHQnYWxsb3dOdWxsJzogZ2V0OiAoKS0+XG5cdFx0XyA9IGlmIEBpc0Jhc2UgdGhlbiBuZXdCdWlsZGVyKCkgZWxzZSBAXG5cdFx0Xy5vcHRpb25zLmFsbG93TnVsbCA9IHRydWVcblx0XHRyZXR1cm4gX1xuXG5cdCdudWxsRGVsZXRlcyc6IGdldDogKCktPlxuXHRcdF8gPSBpZiBAaXNCYXNlIHRoZW4gbmV3QnVpbGRlcigpIGVsc2UgQFxuXHRcdF8ub3B0aW9ucy5udWxsRGVsZXRlcyA9IHRydWVcblx0XHRyZXR1cm4gX1xuXG5cdCdjb25jYXQnOiBnZXQ6ICgpLT5cblx0XHRfID0gaWYgQGlzQmFzZSB0aGVuIG5ld0J1aWxkZXIoKSBlbHNlIEBcblx0XHRfLm9wdGlvbnMuY29uY2F0ID0gdHJ1ZVxuXHRcdHJldHVybiBfXG5cblx0J2Nsb25lJzogZ2V0OiAoKS0+XG5cdFx0XyA9IGlmIEBpc0Jhc2UgdGhlbiBuZXdCdWlsZGVyKCkgZWxzZSBAXG5cdFx0Xy5vcHRpb25zLnRhcmdldCA9IHt9XG5cdFx0cmV0dXJuIF9cblxuXHQnbm90RGVlcCc6IGdldDogKCktPlxuXHRcdF8gPSBpZiBAaXNCYXNlIHRoZW4gbmV3QnVpbGRlcigpIGVsc2UgQFxuXHRcdHJldHVybiAoa2V5cyktPlxuXHRcdFx0Xy5vcHRpb25zLm5vdERlZXAgPSBub3JtYWxpemVLZXlzKGtleXMpXHRcdFx0XG5cdFx0XHRyZXR1cm4gX1xuXG5cdCdkZWVwT25seSc6IGdldDogKCktPlxuXHRcdF8gPSBpZiBAaXNCYXNlIHRoZW4gbmV3QnVpbGRlcigpIGVsc2UgQFxuXHRcdHJldHVybiAoa2V5cyktPlxuXHRcdFx0Xy5vcHRpb25zLmRlZXBPbmx5ID0gbm9ybWFsaXplS2V5cyhrZXlzKVx0XHRcdFxuXHRcdFx0cmV0dXJuIF9cblxuXHQna2V5cyc6IGdldDogKCktPlxuXHRcdF8gPSBpZiBAaXNCYXNlIHRoZW4gbmV3QnVpbGRlcigpIGVsc2UgQFxuXHRcdHJldHVybiAoa2V5cyktPlxuXHRcdFx0Xy5vcHRpb25zLmtleXMgPSBub3JtYWxpemVLZXlzKGtleXMpXHRcdFx0XG5cdFx0XHRyZXR1cm4gX1xuXG5cdCdub3RLZXlzJzogZ2V0OiAoKS0+XG5cdFx0XyA9IGlmIEBpc0Jhc2UgdGhlbiBuZXdCdWlsZGVyKCkgZWxzZSBAXG5cdFx0cmV0dXJuIChrZXlzKS0+XG5cdFx0XHRfLm9wdGlvbnMubm90S2V5cyA9IG5vcm1hbGl6ZUtleXMoa2V5cylcdFx0XHRcblx0XHRcdHJldHVybiBfXG5cblx0J3RyYW5zZm9ybSc6IGdldDogKCktPlxuXHRcdF8gPSBpZiBAaXNCYXNlIHRoZW4gbmV3QnVpbGRlcigpIGVsc2UgQFxuXHRcdHJldHVybiAodHJhbnNmb3JtKS0+XG5cdFx0XHRpZiB0eXBlb2YgdHJhbnNmb3JtIGlzICdmdW5jdGlvbidcblx0XHRcdFx0Xy5vcHRpb25zLmdsb2JhbFRyYW5zZm9ybSA9IHRyYW5zZm9ybVxuXHRcdFx0ZWxzZSBpZiB0cmFuc2Zvcm0gYW5kIHR5cGVvZiB0cmFuc2Zvcm0gaXMgJ29iamVjdCdcblx0XHRcdFx0Xy5vcHRpb25zLnRyYW5zZm9ybXMgPSB0cmFuc2Zvcm1cblx0XHRcdFxuXHRcdFx0cmV0dXJuIF9cblxuXG5cdCdmaWx0ZXInOiBnZXQ6ICgpLT5cblx0XHRfID0gaWYgQGlzQmFzZSB0aGVuIG5ld0J1aWxkZXIoKSBlbHNlIEBcblx0XHRyZXR1cm4gKGZpbHRlciktPlxuXHRcdFx0aWYgdHlwZW9mIGZpbHRlciBpcyAnZnVuY3Rpb24nXG5cdFx0XHRcdF8ub3B0aW9ucy5nbG9iYWxGaWx0ZXIgPSBmaWx0ZXJcblx0XHRcdGVsc2UgaWYgZmlsdGVyIGFuZCB0eXBlb2YgZmlsdGVyIGlzICdvYmplY3QnXG5cdFx0XHRcdF8ub3B0aW9ucy5maWx0ZXJzID0gZmlsdGVyXG5cdFx0XHRcblx0XHRcdHJldHVybiBfXG5cblxuXG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHMgPSBuZXdCdWlsZGVyKHRydWUpXG5leHBvcnRzLnZlcnNpb24gPSBpbXBvcnQgJy4uL3BhY2thZ2UuanNvbiAkIHZlcnNpb24nIiwie1xuICBcIl9mcm9tXCI6IFwic21hcnQtZXh0ZW5kXCIsXG4gIFwiX2lkXCI6IFwic21hcnQtZXh0ZW5kQDEuNy4zXCIsXG4gIFwiX2luQnVuZGxlXCI6IGZhbHNlLFxuICBcIl9pbnRlZ3JpdHlcIjogXCJzaGE1MTItUFZFRVZZRER6eXhLQTBHTkZMY1dZNm9KU2tRS2RjMXc3MThlUXBFSGNOdVRTV1l4REszNUd6aHNHaE1rVVU4bEJJZ1NFRGJ0NXg1cDQ2cFJ6M0F1YkE9PVwiLFxuICBcIl9sb2NhdGlvblwiOiBcIi9zbWFydC1leHRlbmRcIixcbiAgXCJfcGhhbnRvbUNoaWxkcmVuXCI6IHt9LFxuICBcIl9yZXF1ZXN0ZWRcIjoge1xuICAgIFwidHlwZVwiOiBcInRhZ1wiLFxuICAgIFwicmVnaXN0cnlcIjogdHJ1ZSxcbiAgICBcInJhd1wiOiBcInNtYXJ0LWV4dGVuZFwiLFxuICAgIFwibmFtZVwiOiBcInNtYXJ0LWV4dGVuZFwiLFxuICAgIFwiZXNjYXBlZE5hbWVcIjogXCJzbWFydC1leHRlbmRcIixcbiAgICBcInJhd1NwZWNcIjogXCJcIixcbiAgICBcInNhdmVTcGVjXCI6IG51bGwsXG4gICAgXCJmZXRjaFNwZWNcIjogXCJsYXRlc3RcIlxuICB9LFxuICBcIl9yZXF1aXJlZEJ5XCI6IFtcbiAgICBcIiNVU0VSXCIsXG4gICAgXCIvXCIsXG4gICAgXCIvc2ltcGx5d2F0Y2hcIlxuICBdLFxuICBcIl9yZXNvbHZlZFwiOiBcImh0dHBzOi8vcmVnaXN0cnkubnBtanMub3JnL3NtYXJ0LWV4dGVuZC8tL3NtYXJ0LWV4dGVuZC0xLjcuMy50Z3pcIixcbiAgXCJfc2hhc3VtXCI6IFwiMGZlNGE0MjZjODYzOGY0OGY5OWI3Y2M4NWUyNzY3OTFlY2Y1YWYyYlwiLFxuICBcIl9zcGVjXCI6IFwic21hcnQtZXh0ZW5kXCIsXG4gIFwiX3doZXJlXCI6IFwiL1VzZXJzL2RhbmllbGthbGVuL3NhbmRib3gvZXhpdC1pbnRlbnRcIixcbiAgXCJhdXRob3JcIjoge1xuICAgIFwibmFtZVwiOiBcImRhbmllbGthbGVuXCJcbiAgfSxcbiAgXCJicm93c2VyXCI6IHtcbiAgICBcIi4vZGVidWdcIjogXCJkaXN0L3NtYXJ0LWV4dGVuZC5kZWJ1Zy5qc1wiLFxuICAgIFwiLi9kaXN0L3NtYXJ0LWV4dGVuZC5qc1wiOiBcInNyYy9pbmRleC5jb2ZmZWVcIlxuICB9LFxuICBcImJyb3dzZXJpZnlcIjoge1xuICAgIFwidHJhbnNmb3JtXCI6IFtcbiAgICAgIFwic2ltcGx5aW1wb3J0L2NvbXBhdFwiXG4gICAgXVxuICB9LFxuICBcImJ1Z3NcIjoge1xuICAgIFwidXJsXCI6IFwiaHR0cHM6Ly9naXRodWIuY29tL2RhbmllbGthbGVuL3NtYXJ0LWV4dGVuZC9pc3N1ZXNcIlxuICB9LFxuICBcImJ1bmRsZURlcGVuZGVuY2llc1wiOiBmYWxzZSxcbiAgXCJkZXBlbmRlbmNpZXNcIjoge1xuICAgIFwiZmFsYWZlbFwiOiBcIl4yLjEuMFwiXG4gIH0sXG4gIFwiZGVwcmVjYXRlZFwiOiBmYWxzZSxcbiAgXCJkZXNjcmlwdGlvblwiOiBcIk1lcmdlL2V4dGVuZCBvYmplY3RzIChzaGFsbG93L2RlZXApIHdpdGggZ2xvYmFsL2luZGl2aWR1YWwgZmlsdGVycyBhbmQgbW9yZSBmZWF0dXJlc1wiLFxuICBcImRldkRlcGVuZGVuY2llc1wiOiB7XG4gICAgXCJiYWRnZS1nZW5cIjogXCJeMS4wLjJcIixcbiAgICBcImJsdWViaXJkXCI6IFwiXjMuNC43XCIsXG4gICAgXCJjaGFpXCI6IFwiXjMuNS4wXCIsXG4gICAgXCJjb2ZmZWUtcmVnaXN0ZXJcIjogXCJeMC4xLjBcIixcbiAgICBcImNvZmZlZWlmeS1jYWNoZWRcIjogXCJeMi4xLjFcIixcbiAgICBcImV4dGVuZFwiOiBcIl4zLjAuMVwiLFxuICAgIFwiZ29vZ2xlLWNsb3N1cmUtY29tcGlsZXItanNcIjogXCJeMjAxNzA2MjYuMC4wXCIsXG4gICAgXCJtb2NoYVwiOiBcIl4zLjIuMFwiLFxuICAgIFwic2ltcGx5aW1wb3J0XCI6IFwiXjQuMC4wLXMyMVwiLFxuICAgIFwic2ltcGx5d2F0Y2hcIjogXCJeMy4wLjAtbDJcIixcbiAgICBcInVnbGlmeS1qc1wiOiBcIl4zLjAuMjRcIlxuICB9LFxuICBcImhvbWVwYWdlXCI6IFwiaHR0cHM6Ly9naXRodWIuY29tL2RhbmllbGthbGVuL3NtYXJ0LWV4dGVuZCNyZWFkbWVcIixcbiAgXCJrZXl3b3Jkc1wiOiBbXG4gICAgXCJleHRlbmRcIixcbiAgICBcImNsb25lXCIsXG4gICAgXCJmaWx0ZXJcIixcbiAgICBcInNlbGVjdGl2ZVwiLFxuICAgIFwibWVyZ2VcIixcbiAgICBcImFzc2lnblwiLFxuICAgIFwicHJvcGVydGllc1wiXG4gIF0sXG4gIFwibGljZW5zZVwiOiBcIklTQ1wiLFxuICBcIm1haW5cIjogXCJkaXN0L3NtYXJ0LWV4dGVuZC5qc1wiLFxuICBcIm1vY2hhX29wdHNcIjogXCItdSB0ZGQgLS1jb21waWxlcnMgY29mZmVlOmNvZmZlZS1yZWdpc3RlciAtLXNsb3cgMTAwMCAtLXRpbWVvdXQgNTAwMFwiLFxuICBcIm5hbWVcIjogXCJzbWFydC1leHRlbmRcIixcbiAgXCJyZXBvc2l0b3J5XCI6IHtcbiAgICBcInR5cGVcIjogXCJnaXRcIixcbiAgICBcInVybFwiOiBcImdpdCtodHRwczovL2dpdGh1Yi5jb20vZGFuaWVsa2FsZW4vc21hcnQtZXh0ZW5kLmdpdFwiXG4gIH0sXG4gIFwic2NyaXB0c1wiOiB7XG4gICAgXCJidWlsZFwiOiBcIm1rZGlyIC1wIGRpc3QvOyBucG0gcnVuIGJ1aWxkOmRlYnVnICYmIG5wbSBydW4gYnVpbGQ6cmVsZWFzZVwiLFxuICAgIFwiYnVpbGQ6ZGVidWdcIjogXCJzaW1wbHlpbXBvcnQgYnVuZGxlIHNyYy9pbmRleC5jb2ZmZWUgLWQgLS10YXJnZXQgbm9kZSAtLXVtZCBzbWFydC1leHRlbmQgPiBkaXN0L3NtYXJ0LWV4dGVuZC5kZWJ1Zy5qc1wiLFxuICAgIFwiYnVpbGQ6cmVsZWFzZVwiOiBcInNpbXBseWltcG9ydCBidW5kbGUgc3JjL2luZGV4LmNvZmZlZSAtLXRhcmdldCBub2RlIC0tdW1kIHNtYXJ0LWV4dGVuZCA+IGRpc3Qvc21hcnQtZXh0ZW5kLmpzXCIsXG4gICAgXCJjb3ZlcmFnZVwiOiBcIm5wbSBydW4gY292ZXJhZ2U6cnVuICYmIG5wbSBydW4gY292ZXJhZ2U6YmFkZ2VcIixcbiAgICBcImNvdmVyYWdlOmJhZGdlXCI6IFwiYmFkZ2UtZ2VuIC1kIC5jb25maWcvYmFkZ2VzL2NvdmVyYWdlXCIsXG4gICAgXCJjb3ZlcmFnZTpydW5cIjogXCJmb3JDb3ZlcmFnZT10cnVlIGlzdGFuYnVsIGNvdmVyIC0tZGlyIGNvdmVyYWdlIG5vZGVfbW9kdWxlcy9tb2NoYS9iaW4vX21vY2hhIC0tICRucG1fcGFja2FnZV9tb2NoYV9vcHRzXCIsXG4gICAgXCJwb3N0cHVibGlzaFwiOiBcImdpdCBwdXNoXCIsXG4gICAgXCJwb3N0dmVyc2lvblwiOiBcIm5wbSBydW4gYnVpbGQgJiYgZ2l0IGFkZCAuICYmIGdpdCBjb21taXQgLWEgLW0gJ1tCdWlsZF0nXCIsXG4gICAgXCJwcmVwdWJsaXNoT25seVwiOiBcIkNJPTEgbnBtIHJ1biB0ZXN0XCIsXG4gICAgXCJ0ZXN0XCI6IFwibW9jaGEgJG5wbV9wYWNrYWdlX21vY2hhX29wdHNcIixcbiAgICBcIndhdGNoXCI6IFwic2ltcGx5d2F0Y2ggLWcgJ3NyYy8qJyAteCAnbnBtIHJ1biBidWlsZDpkZWJ1ZyAtcydcIlxuICB9LFxuICBcInNpbXBseWltcG9ydFwiOiB7XG4gICAgXCJ0cmFuc2Zvcm1cIjogW1xuICAgICAgXCJjb2ZmZWVpZnktY2FjaGVkXCIsXG4gICAgICBcIi4vLmNvbmZpZy90cmFuc2Zvcm1zL21hY3Jvc1wiXG4gICAgXSxcbiAgICBcImZpbmFsVHJhbnNmb3JtXCI6IFtcbiAgICAgIFwiLmNvbmZpZy90cmFuc2Zvcm1zL21pbmlmeS1zdXBlclwiLFxuICAgICAgXCIuY29uZmlnL3RyYW5zZm9ybXMvbWluaWZ5LXJlbmFtZVwiLFxuICAgICAgXCIuY29uZmlnL3RyYW5zZm9ybXMvbWluaWZ5LXNpbXBsZVwiXG4gICAgXVxuICB9LFxuICBcInZlcnNpb25cIjogXCIxLjcuM1wiXG59XG4iLCJtb2R1bGUuZXhwb3J0cyA9IFxuXHR0aHJlc2hvbGQ6IDE1IiwiYnJvd3NlckluZm8gPSBpbXBvcnQgJy4vYnJvd3NlckluZm8nXG4kID0gd2luZG93LmpRdWVyeVxuXG5leHBvcnQgb3BlbiA9ICgpLT5cblx0QHBvcHVwLm9wZW4oKVxuXHRAaXNPcGVuID0gdHJ1ZVxuXHRAZGlzYWJsZWQgPSB0cnVlXG5cdEBkZXRhY2hPcGVuaW5nRXZlbnRzKClcblxuZXhwb3J0IGNsb3NlID0gKCktPlxuXHRAcG9wdXAuY2xvc2UoKVxuXHRAaXNPcGVuID0gZmFsc2VcblxuZXhwb3J0IGVtaXQgPSAoZXZlbnQpLT5cblx0QGVsLnRyaWdnZXIoZXZlbnQpXG5cdEBwb3B1cC5lbWl0KGV2ZW50KVxuXG5leHBvcnQgcmVwbGFjZVdpdGggPSAoJG5ld0Zvcm0pLT5cblx0QHBvcHVwLnJlcGxhY2VXaXRoKCRuZXdGb3JtKVxuXHRAYXR0YWNoTWlzY0V2ZW50cygpXG5cblxuXG5cdFx0XG5cbmV4cG9ydCBhdHRhY2hPcGVuaW5nRXZlbnRzID0gKCktPlxuXHQjIyMqXG5cdCMgT3BlbnMgdGhlIHBvcHVwIGlmIHRoZSB1c2VyJ3MgbW91c2UgbW92ZXMgZnJvbSB0aGUgaW5zaWRlIG9mIHRoZSB2aWV3cG9ydFxuXHQjIHRvIG91dHNpZGUgb2YgdGhlIHZpZXdwb3J0J3MgWSBheGlzLlxuXHQjIyNcblx0dW5sZXNzIGJyb3dzZXJJbmZvLmlzTW9iaWxlICMgTm8gbmVlZCB0byBhdHRhY2ggZm9yIG1vYmlsZSBkZXZpY2VzXG5cdFx0YmFzZSA9IGlmIGJyb3dzZXJJbmZvLmlzSUUgb3IgYnJvd3NlckluZm8uaXNJRTExIG9yIGJyb3dzZXJJbmZvLmlzRWRnZSB0aGVuIDExMCBlbHNlIDBcblx0XHR0aHJlc2hvbGQgPSBAb3B0aW9ucy50aHJlc2hvbGQgKyBiYXNlXG5cdFx0JChkb2N1bWVudCkub24gXCJtb3VzZWxlYXZlLiN7QG5hbWV9XCIsIChldmVudCk9PlxuXHRcdFx0cmV0dXJuIGlmIEBkaXNhYmxlZCBvciBQb3B1cDo6aXNPcGVuIG9yIGV2ZW50LnJlbGF0ZWRUYXJnZXRcblx0XHRcdGlmIGV2ZW50LmNsaWVudFkgPD0gdGhyZXNob2xkXG5cdFx0XHRcdEBvcGVuKClcblx0XHRcdFx0QGVtaXQgJ21vdXNlb3BlbidcblxuXG5cdCMjIypcblx0IyBPcGVucyB0aGUgcG9wdXAgaWYgdGhlIHVzZXIncyB0cmllcyB0byBuYXZpZ2F0ZSBiYWNrd2FyZHMuIFdlIGFwcGx5IGEgdHJpY2tcblx0IyB0byB0aGUgd2luZG93Lmhpc3RvcnkgcHJvcGVydHkgdXNpbmcgaXRzIHJlcGxhY2VTdGF0ZSgpIGFuZCBwdXNoU3RhdGUoKSBtZXRob2RzXG5cdCMgdG8gcmVnaXN0ZXIgdGhlIHByZXZpb3VzIHBhZ2UgaW4gdGhlIGJyb3dzZXIncyBoaXN0b3J5IGFzIHRoZSBjdXJyZW50IHBhZ2UuIFdlXG5cdCMgdGhlbiBsaXN0ZW4gdG8gdGhlIHBvcHN0YXRlIGV2ZW50IHdoaWNoIHRyaWdnZXJzIHdoZW4gdGhlIHBhZ2UgbmF2aWdhdGVzIGF3YXkuXG5cdCMgU2luY2UgSUUgZG9lc24ndCBmdWxseSBzdXBwb3J0IHRoZXNlIG1ldGhvZHMsIHdlIGRpc2FibGUgdGhlbSBjb21wbGV0ZWx5IGZvciBJRS5cblx0IyMjXG5cdHVubGVzcyBicm93c2VySW5mby5pc0lFIG9yIGJyb3dzZXJJbmZvLmlzSUUxMSBvciBicm93c2VySW5mby5pc01vYmlsZSBvciBAZGlzYWJsZWQgb3IgQGlzT3BlblxuXHRcdHdpbmRvdy5oaXN0b3J5LnJlcGxhY2VTdGF0ZSB7aWQ6ICdleGl0LWluaXQnfSwgJycsICcnXG5cdFx0d2luZG93Lmhpc3RvcnkucHVzaFN0YXRlIHtpZDogJ2V4aXQtY29udHJvbCd9LCAnJywgJydcblx0XHRcblx0XHQkKHdpbmRvdykub24gJ3BvcHN0YXRlJywgKGUpPT5cblx0XHRcdGlmICFAZGlzYWJsZWQgYW5kICdzdGF0ZScgb2Ygd2luZG93Lmhpc3RvcnkgYW5kIHdpbmRvdy5oaXN0b3J5LnN0YXRlIGlzbnQgbnVsbCBhbmQgd2luZG93Lmhpc3Rvcnkuc3RhdGUuaWQgIT0gJ2V4aXQtY29udHJvbCdcblx0XHRcdFx0QG9wZW4oKVxuXHRcdFx0XHRAZW1pdCAnaGlzdG9yeW9wZW4nXG5cdFx0XHRlbHNlXG5cdFx0XHRcdHdpbmRvdy5oaXN0b3J5LmJhY2soKVxuXG5cblxuXG5cblxuZXhwb3J0IGF0dGFjaE1pc2NFdmVudHMgPSAoKS0+XG5cdEBlbC5maW5kKCcubm8nKS5vbiBcImNsaWNrLiN7QG5hbWV9XCIsICgpPT5cblx0XHRAY2xvc2UoKVxuXHRcdHRyeSBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSAnZXhpdF9pbnRlbnQtY29tcGxldGUnLCAndHJ1ZSdcblxuXG5cdEBlbC5maW5kKCcuc3VibWl0Jykub24gXCJjbGljay4je0BuYW1lfVwiLCAoKT0+XG5cdFx0QGVtaXQgJ3N1Ym1pdHRlZCdcblxuXG5cdEBlbC5maW5kKCcuc3RlcCcpLmZpcnN0KCkuZmluZCgnLm5leHQnKS5vbiBcImNsaWNrLiN7QG5hbWV9XCIsICgpPT5cblx0XHRAZW1pdCAnY29udGludWVkJ1xuXG5cblxuXG5leHBvcnQgZGV0YWNoRXZlbnRzID0gKCktPlxuXHRAZWwuZmluZCgnLm5vJykub2ZmIFwiY2xpY2suI3tAbmFtZX1cIlxuXHRAZWwuZmluZCgnLnN1Ym1pdCcpLm9mZiBcImNsaWNrLiN7QG5hbWV9XCJcblx0QGVsLmZpbmQoJy5zdGVwJykuZmlyc3QoKS5maW5kKCcubmV4dCcpLm9mZiBcImNsaWNrLiN7QG5hbWV9XCJcblx0QGRldGFjaE9wZW5pbmdFdmVudHMoKVxuXG5leHBvcnQgZGV0YWNoT3BlbmluZ0V2ZW50cyA9ICgpLT5cblx0JChkb2N1bWVudCkub2ZmIFwibW91c2VsZWF2ZS4je0BuYW1lfVwiXG4iLCJpc0FycmF5ID0gKHRhcmdldCktPlxuXHRBcnJheS5pc0FycmF5KHRhcmdldClcblxuaXNPYmplY3QgPSAodGFyZ2V0KS0+XG5cdHRhcmdldCBhbmQgT2JqZWN0Ojp0b1N0cmluZy5jYWxsKHRhcmdldCkgaXMgJ1tvYmplY3QgT2JqZWN0XScgb3IgaXNBcnJheSh0YXJnZXQpXG5cbnNob3VsZERlZXBFeHRlbmQgPSAob3B0aW9ucywgdGFyZ2V0LCBwYXJlbnRLZXkpLT5cblx0aWYgb3B0aW9ucy5kZWVwXG5cdFx0aWYgb3B0aW9ucy5ub3REZWVwIHRoZW4gbm90IG9wdGlvbnMubm90RGVlcFt0YXJnZXRdIGVsc2UgdHJ1ZVxuXG5cdGVsc2UgaWYgb3B0aW9ucy5kZWVwT25seVxuXHRcdG9wdGlvbnMuZGVlcE9ubHlbdGFyZ2V0XSBvciBwYXJlbnRLZXkgYW5kIHNob3VsZERlZXBFeHRlbmQob3B0aW9ucywgcGFyZW50S2V5KVxuXG5cdCMgZWxzZSBmYWxzZVxuXG5cbm1vZHVsZS5leHBvcnRzID0gZXh0ZW5kID0gKG9wdGlvbnMsIHRhcmdldCwgc291cmNlcywgcGFyZW50S2V5KS0+XG5cdHRhcmdldCA9IHt9IGlmIG5vdCB0YXJnZXQgb3IgdHlwZW9mIHRhcmdldCBpc250ICdvYmplY3QnIGFuZCB0eXBlb2YgdGFyZ2V0IGlzbnQgJ2Z1bmN0aW9uJ1xuXG5cdGZvciBzb3VyY2UgaW4gc291cmNlcyB3aGVuIHNvdXJjZT9cblx0XHRmb3Iga2V5IG9mIHNvdXJjZVxuXHRcdFx0c291cmNlVmFsdWUgPSBzb3VyY2Vba2V5XVxuXHRcdFx0dGFyZ2V0VmFsdWUgPSB0YXJnZXRba2V5XVxuXHRcdFx0XG5cdFx0XHRjb250aW51ZSBpZiBzb3VyY2VWYWx1ZSBpcyB0YXJnZXQgb3Jcblx0XHRcdFx0XHRcdHNvdXJjZVZhbHVlIGlzIHVuZGVmaW5lZCBvclxuXHRcdFx0XHRcdFx0KHNvdXJjZVZhbHVlIGlzIG51bGwgYW5kIG5vdCBvcHRpb25zLmFsbG93TnVsbCBhbmQgbm90IG9wdGlvbnMubnVsbERlbGV0ZXMpIG9yXG5cdFx0XHRcdFx0XHQob3B0aW9ucy5rZXlzIGFuZCBub3Qgb3B0aW9ucy5rZXlzW2tleV0pIG9yXG5cdFx0XHRcdFx0XHQob3B0aW9ucy5ub3RLZXlzIGFuZCBvcHRpb25zLm5vdEtleXNba2V5XSkgb3Jcblx0XHRcdFx0XHRcdChvcHRpb25zLm93biBhbmQgbm90IHNvdXJjZS5oYXNPd25Qcm9wZXJ0eShrZXkpKSBvclxuXHRcdFx0XHRcdFx0KG9wdGlvbnMuZ2xvYmFsRmlsdGVyIGFuZCBub3Qgb3B0aW9ucy5nbG9iYWxGaWx0ZXIoc291cmNlVmFsdWUsIGtleSwgc291cmNlKSkgb3Jcblx0XHRcdFx0XHRcdChvcHRpb25zLmZpbHRlcnMgYW5kIG9wdGlvbnMuZmlsdGVyc1trZXldIGFuZCBub3Qgb3B0aW9ucy5maWx0ZXJzW2tleV0oc291cmNlVmFsdWUsIGtleSwgc291cmNlKSlcblx0XHRcdFxuXHRcdFx0aWYgc291cmNlVmFsdWUgaXMgbnVsbCBhbmQgb3B0aW9ucy5udWxsRGVsZXRlc1xuXHRcdFx0XHRkZWxldGUgdGFyZ2V0W2tleV1cblx0XHRcdFx0Y29udGludWVcblx0XHRcdGlmIG9wdGlvbnMuZ2xvYmFsVHJhbnNmb3JtXG5cdFx0XHRcdHNvdXJjZVZhbHVlID0gb3B0aW9ucy5nbG9iYWxUcmFuc2Zvcm0oc291cmNlVmFsdWUsIGtleSwgc291cmNlKVxuXHRcdFx0aWYgb3B0aW9ucy50cmFuc2Zvcm1zIGFuZCBvcHRpb25zLnRyYW5zZm9ybXNba2V5XVxuXHRcdFx0XHRzb3VyY2VWYWx1ZSA9IG9wdGlvbnMudHJhbnNmb3Jtc1trZXldKHNvdXJjZVZhbHVlLCBrZXksIHNvdXJjZSlcblx0XG5cdFx0XHRzd2l0Y2hcblx0XHRcdFx0d2hlbiBvcHRpb25zLmNvbmNhdCBhbmQgaXNBcnJheShzb3VyY2VWYWx1ZSkgYW5kIGlzQXJyYXkodGFyZ2V0VmFsdWUpXG5cdFx0XHRcdFx0dGFyZ2V0W2tleV0gPSB0YXJnZXRWYWx1ZS5jb25jYXQoc291cmNlVmFsdWUpXG5cdFx0XHRcdFxuXHRcdFx0XHR3aGVuIHNob3VsZERlZXBFeHRlbmQob3B0aW9ucywga2V5LCBwYXJlbnRLZXkpIGFuZCBpc09iamVjdChzb3VyY2VWYWx1ZSlcblx0XHRcdFx0XHRzdWJUYXJnZXQgPSBpZiBpc09iamVjdCh0YXJnZXRWYWx1ZSkgdGhlbiB0YXJnZXRWYWx1ZSBlbHNlIGlmIGlzQXJyYXkoc291cmNlVmFsdWUpIHRoZW4gW10gZWxzZSB7fVxuXHRcdFx0XHRcdHRhcmdldFtrZXldID0gZXh0ZW5kKG9wdGlvbnMsIHN1YlRhcmdldCwgW3NvdXJjZVZhbHVlXSwga2V5KVxuXG5cdFx0XHRcdGVsc2Vcblx0XHRcdFx0XHR0YXJnZXRba2V5XSA9IHNvdXJjZVZhbHVlXG5cblxuXHRyZXR1cm4gdGFyZ2V0XG5cblxuXG5cblxuXG5cbiIsIm1vZHVsZS5leHBvcnRzID0gXG5cdGlzSUU6IGRvY3VtZW50LmFsbCBhbmQgIXdpbmRvdy5hdG9iXG5cdGlzSUUxMTogd2luZG93Lm5hdmlnYXRvci5tc1BvaW50ZXJFbmFibGVkXG5cdGlzRWRnZTogL0VkZ2UvLnRlc3Qgd2luZG93Lm5hdmlnYXRvcj8udXNlckFnZW50IG9yICcnXG5cdGlzTW9iaWxlOiBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xhc3NOYW1lLmluZGV4T2YoJ21vYmlsZScpIGlzbnQgLTEiXX0=