(function (require, global) {
require = (function (cache, modules, cx) {
return function (r) {
if (!modules[r]) throw new Error(r + ' is not a module');
return cache[r] ? cache[r].exports : ((cache[r] = {
exports: {}
}, cache[r].exports = modules[r].call(cx, require, cache[r], cache[r].exports)));
};
})({}, {
0: function (require, module, exports) {
var ExitIntent, defaults, extend;
extend = require(1);
defaults = require(2);
ExitIntent = (function () {
function ExitIntent(arg) {
var options, popupOptions;
(this.el = arg.el, this.name = arg.name, options = arg.options, popupOptions = arg.popupOptions);
if (!(this instanceof ExitIntent)) {
return new ExitIntent(arguments[0]);
}
this.options = extend.clone(defaults, options);
this.popup = this.createPopup(popupOptions);
this.name = this.popup.name;
this.disabled = false;
this.isOpen = false;
this.attachOpeningEvents();
this.attachMiscEvents();
ExitIntent.instances[this.name] = this;
}
ExitIntent.prototype.createPopup = function (options) {
var popup;
options = extend({
forceOpen: true
}, options);
popup = new Popup(this.el, this.name, options);
this.name = popup.name;
return popup;
};
extend(ExitIntent.prototype, require(3));
ExitIntent.version = "3.2.0";
ExitIntent.instances = {};
ExitIntent.disableAll = function () {
var instance, n, ref;
ref = ExitIntent.instances;
for (n in ref) {
instance = ref[n];
instance.disabled = true;
}
};
return ExitIntent;
})();
module.exports = ExitIntent;
return module.exports;
},
1: function (require, module, exports) {
var exports, extend, modifiers, newBuilder, normalizeKeys;
extend = require(5);
normalizeKeys = function (keys) {
var i, key, len, output;
if (keys) {
output = {};
if (typeof keys !== 'object') {
output[keys] = true;
} else {
if (!Array.isArray(keys)) {
keys = Object.keys(keys);
}
for ((i = 0, len = keys.length); i < len; i++) {
key = keys[i];
output[key] = true;
}
}
return output;
}
};
newBuilder = function (isBase) {
var builder;
builder = function (target) {
var theTarget;
var $_len = arguments.length, $_i = -1, sources = new Array($_len);
while (++$_i < $_len) sources[$_i] = arguments[$_i];
if (builder.options.target) {
theTarget = builder.options.target;
} else {
theTarget = target;
sources.shift();
}
return extend(builder.options, theTarget, sources);
};
if (isBase) {
builder.isBase = true;
}
builder.options = {};
Object.defineProperties(builder, modifiers);
return builder;
};
modifiers = {
'deep': {
get: function () {
var _;
_ = this.isBase ? newBuilder() : this;
_.options.deep = true;
return _;
}
},
'own': {
get: function () {
var _;
_ = this.isBase ? newBuilder() : this;
_.options.own = true;
return _;
}
},
'allowNull': {
get: function () {
var _;
_ = this.isBase ? newBuilder() : this;
_.options.allowNull = true;
return _;
}
},
'nullDeletes': {
get: function () {
var _;
_ = this.isBase ? newBuilder() : this;
_.options.nullDeletes = true;
return _;
}
},
'concat': {
get: function () {
var _;
_ = this.isBase ? newBuilder() : this;
_.options.concat = true;
return _;
}
},
'clone': {
get: function () {
var _;
_ = this.isBase ? newBuilder() : this;
_.options.target = {};
return _;
}
},
'notDeep': {
get: function () {
var _;
_ = this.isBase ? newBuilder() : this;
return function (keys) {
_.options.notDeep = normalizeKeys(keys);
return _;
};
}
},
'deepOnly': {
get: function () {
var _;
_ = this.isBase ? newBuilder() : this;
return function (keys) {
_.options.deepOnly = normalizeKeys(keys);
return _;
};
}
},
'keys': {
get: function () {
var _;
_ = this.isBase ? newBuilder() : this;
return function (keys) {
_.options.keys = normalizeKeys(keys);
return _;
};
}
},
'notKeys': {
get: function () {
var _;
_ = this.isBase ? newBuilder() : this;
return function (keys) {
_.options.notKeys = normalizeKeys(keys);
return _;
};
}
},
'transform': {
get: function () {
var _;
_ = this.isBase ? newBuilder() : this;
return function (transform) {
if (typeof transform === 'function') {
_.options.globalTransform = transform;
} else if (transform && typeof transform === 'object') {
_.options.transforms = transform;
}
return _;
};
}
},
'filter': {
get: function () {
var _;
_ = this.isBase ? newBuilder() : this;
return function (filter) {
if (typeof filter === 'function') {
_.options.globalFilter = filter;
} else if (filter && typeof filter === 'object') {
_.options.filters = filter;
}
return _;
};
}
}
};
module.exports = exports = newBuilder(true);
exports.version = "1.7.3";
return module.exports;
},
2: function (require, module, exports) {
module.exports = {
threshold: 15
};
return module.exports;
},
3: function (require, module, exports) {
var $, browserInfo;
browserInfo = require(7);
$ = window.jQuery;
var open = exports.open = function open() {
this.popup.open();
this.isOpen = true;
this.disabled = true;
return this.detachOpeningEvents();
};
var close = exports.close = function close() {
this.popup.close();
return this.isOpen = false;
};
var emit = exports.emit = function emit(event) {
this.el.trigger(event);
return this.popup.emit(event);
};
var replaceWith = exports.replaceWith = function replaceWith($newForm) {
this.popup.replaceWith($newForm);
return this.attachMiscEvents();
};
var attachOpeningEvents = exports.attachOpeningEvents = function attachOpeningEvents() {
var base, threshold;
if (!browserInfo.isMobile) {
base = browserInfo.isIE || browserInfo.isIE11 || browserInfo.isEdge ? 110 : 0;
threshold = this.options.threshold + base;
$(document).on("mouseleave." + this.name, (function (_this) {
return function (event) {
if (_this.disabled || Popup.prototype.isOpen || event.relatedTarget) {
return;
}
if (event.clientY <= threshold) {
_this.open();
return _this.emit('mouseopen');
}
};
})(this));
}
if (!(browserInfo.isIE || browserInfo.isIE11 || browserInfo.isMobile || this.disabled || this.isOpen)) {
window.history.replaceState({
id: 'exit-init'
}, '', '');
window.history.pushState({
id: 'exit-control'
}, '', '');
return $(window).on('popstate', (function (_this) {
return function (e) {
if (!_this.disabled && ('state' in window.history) && window.history.state !== null && window.history.state.id !== 'exit-control') {
_this.open();
return _this.emit('historyopen');
} else {
return window.history.back();
}
};
})(this));
}
};
var attachMiscEvents = exports.attachMiscEvents = function attachMiscEvents() {
this.el.find('.no').on("click." + this.name, (function (_this) {
return function () {
_this.close();
try {
return localStorage.setItem('exit_intent-complete', 'true');
} catch (error) {}
};
})(this));
this.el.find('.submit').on("click." + this.name, (function (_this) {
return function () {
return _this.emit('submitted');
};
})(this));
return this.el.find('.step').first().find('.next').on("click." + this.name, (function (_this) {
return function () {
return _this.emit('continued');
};
})(this));
};
var detachEvents = exports.detachEvents = function detachEvents() {
this.el.find('.no').off("click." + this.name);
this.el.find('.submit').off("click." + this.name);
this.el.find('.step').first().find('.next').off("click." + this.name);
return this.detachOpeningEvents();
};
var detachOpeningEvents = exports.detachOpeningEvents = function detachOpeningEvents() {
return $(document).off("mouseleave." + this.name);
};
return module.exports;
},
5: function (require, module, exports) {
var extend, isArray, isObject, shouldDeepExtend;
isArray = function (target) {
return Array.isArray(target);
};
isObject = function (target) {
return target && Object.prototype.toString.call(target) === '[object Object]' || isArray(target);
};
shouldDeepExtend = function (options, target, parentKey) {
if (options.deep) {
if (options.notDeep) {
return !options.notDeep[target];
} else {
return true;
}
} else if (options.deepOnly) {
return options.deepOnly[target] || parentKey && shouldDeepExtend(options, parentKey);
}
};
module.exports = extend = function (options, target, sources, parentKey) {
var i, key, len, source, sourceValue, subTarget, targetValue;
if (!target || typeof target !== 'object' && typeof target !== 'function') {
target = {};
}
for ((i = 0, len = sources.length); i < len; i++) {
source = sources[i];
if (source != null) {
for (key in source) {
sourceValue = source[key];
targetValue = target[key];
if (sourceValue === target || sourceValue === void 0 || (sourceValue === null && !options.allowNull && !options.nullDeletes) || (options.keys && !options.keys[key]) || (options.notKeys && options.notKeys[key]) || (options.own && !source.hasOwnProperty(key)) || (options.globalFilter && !options.globalFilter(sourceValue, key, source)) || (options.filters && options.filters[key] && !options.filters[key](sourceValue, key, source))) {
continue;
}
if (sourceValue === null && options.nullDeletes) {
delete target[key];
continue;
}
if (options.globalTransform) {
sourceValue = options.globalTransform(sourceValue, key, source);
}
if (options.transforms && options.transforms[key]) {
sourceValue = options.transforms[key](sourceValue, key, source);
}
switch (false) {
case !(options.concat && isArray(sourceValue) && isArray(targetValue)):
target[key] = targetValue.concat(sourceValue);
break;
case !(shouldDeepExtend(options, key, parentKey) && isObject(sourceValue)):
subTarget = isObject(targetValue) ? targetValue : isArray(sourceValue) ? [] : {};
target[key] = extend(options, subTarget, [sourceValue], key);
break;
default:
target[key] = sourceValue;
}
}
}
}
return target;
};
return module.exports;
},
7: function (require, module, exports) {
var ref;
module.exports = {
isIE: document.all && !window.atob,
isIE11: window.navigator.msPointerEnabled,
isEdge: (/Edge/).test(((ref = window.navigator) != null ? ref.userAgent : void 0) || ''),
isMobile: document.documentElement.className.indexOf('mobile') !== -1
};
return module.exports;
}
}, this);
return require(0);
}).call(this, null, typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : this);


//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluZGV4LmNvZmZlZSIsIi4uL3BhY2thZ2UuanNvbiIsIi4uL25vZGVfbW9kdWxlcy9zbWFydC1leHRlbmQvc3JjL2luZGV4LmNvZmZlZSIsIi4uL25vZGVfbW9kdWxlcy9zbWFydC1leHRlbmQvcGFja2FnZS5qc29uIiwiZGVmYXVsdHMuY29mZmVlIiwicHJvdG90eXBlLmNvZmZlZSIsIi4uL25vZGVfbW9kdWxlcy9zbWFydC1leHRlbmQvc3JjL2V4dGVuZC5jb2ZmZWUiLCJicm93c2VySW5mby5jb2ZmZWUiXSwibmFtZXMiOlsiRXhpdEludGVudCIsImRlZmF1bHRzIiwiYXJnIiwib3B0aW9ucyIsImVsIiwibmFtZSIsInBvcHVwT3B0aW9ucyIsImFyZ3VtZW50cyIsImV4dGVuZCIsImNsb25lIiwicG9wdXAiLCJjcmVhdGVQb3B1cCIsImRpc2FibGVkIiwiaXNPcGVuIiwiYXR0YWNoT3BlbmluZ0V2ZW50cyIsImF0dGFjaE1pc2NFdmVudHMiLCJpbnN0YW5jZXMiLCJmb3JjZU9wZW4iLCJQb3B1cCIsInByb3RvdHlwZSIsInZlcnNpb24iLCJkaXNhYmxlQWxsIiwiaW5zdGFuY2UiLCJtb2R1bGUiLCJleHBvcnRzIiwibm9ybWFsaXplS2V5cyIsImtleXMiLCJpIiwib3V0cHV0IiwiQXJyYXkiLCJpc0FycmF5IiwiT2JqZWN0Iiwia2V5IiwibmV3QnVpbGRlciIsImlzQmFzZSIsImJ1aWxkZXIiLCJ0YXJnZXQiLCJ0aGVUYXJnZXQiLCJsZW5ndGgiLCIkX2kiLCJzb3VyY2VzIiwic2hpZnQiLCJkZWZpbmVQcm9wZXJ0aWVzIiwibW9kaWZpZXJzIiwiZ2V0IiwiXyIsImRlZXAiLCJvd24iLCJhbGxvd051bGwiLCJudWxsRGVsZXRlcyIsImNvbmNhdCIsIm5vdERlZXAiLCJkZWVwT25seSIsIm5vdEtleXMiLCJ0cmFuc2Zvcm0iLCJnbG9iYWxUcmFuc2Zvcm0iLCJ0cmFuc2Zvcm1zIiwiZmlsdGVyIiwiZ2xvYmFsRmlsdGVyIiwiZmlsdGVycyIsInRocmVzaG9sZCIsIiQiLCJ3aW5kb3ciLCJqUXVlcnkiLCJvcGVuIiwiZGV0YWNoT3BlbmluZ0V2ZW50cyIsImNsb3NlIiwiZW1pdCIsImV2ZW50IiwidHJpZ2dlciIsIiRuZXdGb3JtIiwicmVwbGFjZVdpdGgiLCJiYXNlIiwiYnJvd3NlckluZm8iLCJpc01vYmlsZSIsImlzSUUiLCJpc0lFMTEiLCJpc0VkZ2UiLCJkb2N1bWVudCIsIm9uIiwiX3RoaXMiLCJyZWxhdGVkVGFyZ2V0IiwiY2xpZW50WSIsImhpc3RvcnkiLCJyZXBsYWNlU3RhdGUiLCJpZCIsInB1c2hTdGF0ZSIsImUiLCJzdGF0ZSIsImJhY2siLCJmaW5kIiwibG9jYWxTdG9yYWdlIiwic2V0SXRlbSIsImVycm9yIiwiZmlyc3QiLCJvZmYiLCJpc09iamVjdCIsInRvU3RyaW5nIiwiY2FsbCIsInNob3VsZERlZXBFeHRlbmQiLCJwYXJlbnRLZXkiLCJzb3VyY2UiLCJzb3VyY2VWYWx1ZSIsInRhcmdldFZhbHVlIiwiaGFzT3duUHJvcGVydHkiLCJzdWJUYXJnZXQiLCJyZWYiLCJhbGwiLCJhdG9iIiwibmF2aWdhdG9yIiwibXNQb2ludGVyRW5hYmxlZCIsInRlc3QiLCJ1c2VyQWdlbnQiLCJkb2N1bWVudEVsZW1lbnQiLCJjbGFzc05hbWUiLCJpbmRleE9mIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7O0FBQUFBO1NBQVM7QUFDVEMsV0FBVztBQUVMRDtBQUNRLG9CQUFDRSxLQUFEO0FBQ1pDO0FBRGMsTUFBQ0MsYUFBSSxLQUFDQyxpQkFBTUYsdUJBQVNHO0FBQ25DLElBQXVDLGtCQUFpQk4sYUFBeEQ7T0FBTyxJQUFJQSxXQUFXTyxVQUFVOztBQUNoQyxLQUFDSixVQUFVSyxPQUFPQyxNQUFNUixVQUFVRTtBQUNsQyxLQUFDTyxRQUFRLEtBQUNDLFlBQVlMO0FBQ3RCLEtBQUNELE9BQU8sS0FBQ0ssTUFBTUw7QUFDZixLQUFDTyxXQUFXO0FBQ1osS0FBQ0MsU0FBUztBQUdWLEtBQUNDO0FBQ0QsS0FBQ0M7QUFDRGYsV0FBV2dCLFVBQVUsS0FB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QUFDIiwiZmlsZSI6ImJ1bmRsZS5qcyIsInNvdXJjZXNDb250ZW50IjpbbnVsbCwie1xuICBcIm5hbWVcIjogXCJAZGFuaWVsa2FsZW4vZXhpdC1pbnRlbnRcIixcbiAgXCJ2ZXJzaW9uXCI6IFwiMy4yLjBcIixcbiAgXCJkZXNjcmlwdGlvblwiOiBcIkV4aXQgSW50ZW50IEVuZ2luZVwiLFxuICBcIm1haW5cIjogXCJkaXN0L2V4aXQtaW50ZW50LmpzXCIsXG4gIFwiYnJvd3NlclwiOiB7XG4gICAgXCIuL2Rpc3QvZXhpdC1pbnRlbnQuanNcIjogXCJzcmMvaW5kZXguY29mZmVlXCIsXG4gICAgXCIuL3NyY1wiOiBcInNyYy9leGl0LWludGVudC5jb2ZmZWVcIixcbiAgICBcIi4vZGVidWdcIjogXCJkaXN0L2V4aXQtaW50ZW50LmRlYnVnLmpzXCJcbiAgfSxcbiAgXCJkZXZEZXBlbmRlbmNpZXNcIjoge1xuICAgIFwiY29mZmVlLXNjcmlwdFwiOiBcIl4xLjEyLjBcIixcbiAgICBcInNpbXBseWltcG9ydFwiOiBcIl40LjAuMC10MVwiLFxuICAgIFwic2ltcGx5d2F0Y2hcIjogXCJeMy4wLjAtbDJcIixcbiAgICBcInVnbGlmeS1qc1wiOiBcIl4yLjYuMlwiXG4gIH0sXG4gIFwicGVlckRlcGVuZGVuY2llc1wiOiB7XG4gICAgXCJqcXVlcnlcIjogXCIqXCIsXG4gICAgXCJAZGFuaWVsa2FsZW4vcG9wdXAtZW5naW5lXCI6IFwiXjMuMC4wXCJcbiAgfSxcbiAgXCJzY3JpcHRzXCI6IHtcbiAgICBcInBvc3R2ZXJzaW9uXCI6IFwibnBtIHJ1biBidWlsZCAmJiBnaXQgYWRkIC4gJiYgZ2l0IGNvbW1pdCAtYSAtbSAnW0J1aWxkXSdcIixcbiAgICBcInBvc3RwdWJsaXNoXCI6IFwiZ2l0IHB1c2hcIixcbiAgICBcImJ1aWxkXCI6IFwibnBtIHJ1biBjb21waWxlICYmIG5wbSBydW4gbWluaWZ5XCIsXG4gICAgXCJjb21waWxlXCI6IFwic2ltcGx5aW1wb3J0IGJ1bmRsZSAtZCBzcmMvaW5kZXguY29mZmVlID4gZGlzdC9leGl0LWludGVudC5kZWJ1Zy5qc1wiLFxuICAgIFwibWluaWZ5XCI6IFwidWdsaWZ5anMgZGlzdC9leGl0LWludGVudC5kZWJ1Zy5qcyAtbSAtYyBrZWVwX2ZhcmdzLHVudXNlZD1mYWxzZSAtbyBkaXN0L2V4aXQtaW50ZW50LmpzXCIsXG4gICAgXCJ3YXRjaFwiOiBcInNpbXBseXdhdGNoIC1nICdzcmMvKicgLXggJ25wbSBydW4gY29tcGlsZSAtcydcIlxuICB9LFxuICBcInJlcG9zaXRvcnlcIjoge1xuICAgIFwidHlwZVwiOiBcImdpdFwiLFxuICAgIFwidXJsXCI6IFwiZ2l0K2h0dHBzOi8vZ2l0aHViLmNvbS9kYW5pZWxrYWxlbi9leGl0LWludGVudC5naXRcIlxuICB9LFxuICBcImF1dGhvclwiOiBcIkRhbmllbCBLYWxlblwiLFxuICBcImxpY2Vuc2VcIjogXCJJU0NcIixcbiAgXCJidWdzXCI6IHtcbiAgICBcInVybFwiOiBcImh0dHBzOi8vZ2l0aHViLmNvbS9kYW5pZWxrYWxlbi9leGl0LWludGVudC9pc3N1ZXNcIlxuICB9LFxuICBcImhvbWVwYWdlXCI6IFwiaHR0cHM6Ly9naXRodWIuY29tL2RhbmllbGthbGVuL2V4aXQtaW50ZW50I3JlYWRtZVwiLFxuICBcImRlcGVuZGVuY2llc1wiOiB7XG4gICAgXCJzbWFydC1leHRlbmRcIjogXCJeMS43LjNcIlxuICB9XG59XG4iLCJleHRlbmQgPSByZXF1aXJlICcuL2V4dGVuZCdcblxubm9ybWFsaXplS2V5cyA9IChrZXlzKS0+IGlmIGtleXNcblx0b3V0cHV0ID0ge31cblx0aWYgdHlwZW9mIGtleXMgaXNudCAnb2JqZWN0J1xuXHRcdG91dHB1dFtrZXlzXSA9IHRydWVcblx0ZWxzZVxuXHRcdGtleXMgPSBPYmplY3Qua2V5cyhrZXlzKSBpZiBub3QgQXJyYXkuaXNBcnJheShrZXlzKVxuXHRcdG91dHB1dFtrZXldID0gdHJ1ZSBmb3Iga2V5IGluIGtleXNcblxuXHRyZXR1cm4gb3V0cHV0XG5cblxubmV3QnVpbGRlciA9IChpc0Jhc2UpLT5cblx0YnVpbGRlciA9ICh0YXJnZXQpLT5cblx0XHRFWFBBTkRfQVJHVU1FTlRTKHNvdXJjZXMpXG5cdFx0aWYgYnVpbGRlci5vcHRpb25zLnRhcmdldFxuXHRcdFx0dGhlVGFyZ2V0ID0gYnVpbGRlci5vcHRpb25zLnRhcmdldFxuXHRcdGVsc2Vcblx0XHRcdHRoZVRhcmdldCA9IHRhcmdldFxuXHRcdFx0c291cmNlcy5zaGlmdCgpXG5cdFx0XG5cdFx0ZXh0ZW5kKGJ1aWxkZXIub3B0aW9ucywgdGhlVGFyZ2V0LCBzb3VyY2VzKVxuXHRcblx0YnVpbGRlci5pc0Jhc2UgPSB0cnVlIGlmIGlzQmFzZVxuXHRidWlsZGVyLm9wdGlvbnMgPSB7fVxuXHRPYmplY3QuZGVmaW5lUHJvcGVydGllcyhidWlsZGVyLCBtb2RpZmllcnMpXG5cdHJldHVybiBidWlsZGVyXG5cblxubW9kaWZpZXJzID0gXG5cdCdkZWVwJzogZ2V0OiAoKS0+XG5cdFx0XyA9IGlmIEBpc0Jhc2UgdGhlbiBuZXdCdWlsZGVyKCkgZWxzZSBAXG5cdFx0Xy5vcHRpb25zLmRlZXAgPSB0cnVlXG5cdFx0cmV0dXJuIF9cblxuXHQnb3duJzogZ2V0OiAoKS0+XG5cdFx0XyA9IGlmIEBpc0Jhc2UgdGhlbiBuZXdCdWlsZGVyKCkgZWxzZSBAXG5cdFx0Xy5vcHRpb25zLm93biA9IHRydWVcblx0XHRyZXR1cm4gX1xuXG5cdCdhbGxvd051bGwnOiBnZXQ6ICgpLT5cblx0XHRfID0gaWYgQGlzQmFzZSB0aGVuIG5ld0J1aWxkZXIoKSBlbHNlIEBcblx0XHRfLm9wdGlvbnMuYWxsb3dOdWxsID0gdHJ1ZVxuXHRcdHJldHVybiBfXG5cblx0J251bGxEZWxldGVzJzogZ2V0OiAoKS0+XG5cdFx0XyA9IGlmIEBpc0Jhc2UgdGhlbiBuZXdCdWlsZGVyKCkgZWxzZSBAXG5cdFx0Xy5vcHRpb25zLm51bGxEZWxldGVzID0gdHJ1ZVxuXHRcdHJldHVybiBfXG5cblx0J2NvbmNhdCc6IGdldDogKCktPlxuXHRcdF8gPSBpZiBAaXNCYXNlIHRoZW4gbmV3QnVpbGRlcigpIGVsc2UgQFxuXHRcdF8ub3B0aW9ucy5jb25jYXQgPSB0cnVlXG5cdFx0cmV0dXJuIF9cblxuXHQnY2xvbmUnOiBnZXQ6ICgpLT5cblx0XHRfID0gaWYgQGlzQmFzZSB0aGVuIG5ld0J1aWxkZXIoKSBlbHNlIEBcblx0XHRfLm9wdGlvbnMudGFyZ2V0ID0ge31cblx0XHRyZXR1cm4gX1xuXG5cdCdub3REZWVwJzogZ2V0OiAoKS0+XG5cdFx0XyA9IGlmIEBpc0Jhc2UgdGhlbiBuZXdCdWlsZGVyKCkgZWxzZSBAXG5cdFx0cmV0dXJuIChrZXlzKS0+XG5cdFx0XHRfLm9wdGlvbnMubm90RGVlcCA9IG5vcm1hbGl6ZUtleXMoa2V5cylcdFx0XHRcblx0XHRcdHJldHVybiBfXG5cblx0J2RlZXBPbmx5JzogZ2V0OiAoKS0+XG5cdFx0XyA9IGlmIEBpc0Jhc2UgdGhlbiBuZXdCdWlsZGVyKCkgZWxzZSBAXG5cdFx0cmV0dXJuIChrZXlzKS0+XG5cdFx0XHRfLm9wdGlvbnMuZGVlcE9ubHkgPSBub3JtYWxpemVLZXlzKGtleXMpXHRcdFx0XG5cdFx0XHRyZXR1cm4gX1xuXG5cdCdrZXlzJzogZ2V0OiAoKS0+XG5cdFx0XyA9IGlmIEBpc0Jhc2UgdGhlbiBuZXdCdWlsZGVyKCkgZWxzZSBAXG5cdFx0cmV0dXJuIChrZXlzKS0+XG5cdFx0XHRfLm9wdGlvbnMua2V5cyA9IG5vcm1hbGl6ZUtleXMoa2V5cylcdFx0XHRcblx0XHRcdHJldHVybiBfXG5cblx0J25vdEtleXMnOiBnZXQ6ICgpLT5cblx0XHRfID0gaWYgQGlzQmFzZSB0aGVuIG5ld0J1aWxkZXIoKSBlbHNlIEBcblx0XHRyZXR1cm4gKGtleXMpLT5cblx0XHRcdF8ub3B0aW9ucy5ub3RLZXlzID0gbm9ybWFsaXplS2V5cyhrZXlzKVx0XHRcdFxuXHRcdFx0cmV0dXJuIF9cblxuXHQndHJhbnNmb3JtJzogZ2V0OiAoKS0+XG5cdFx0XyA9IGlmIEBpc0Jhc2UgdGhlbiBuZXdCdWlsZGVyKCkgZWxzZSBAXG5cdFx0cmV0dXJuICh0cmFuc2Zvcm0pLT5cblx0XHRcdGlmIHR5cGVvZiB0cmFuc2Zvcm0gaXMgJ2Z1bmN0aW9uJ1xuXHRcdFx0XHRfLm9wdGlvbnMuZ2xvYmFsVHJhbnNmb3JtID0gdHJhbnNmb3JtXG5cdFx0XHRlbHNlIGlmIHRyYW5zZm9ybSBhbmQgdHlwZW9mIHRyYW5zZm9ybSBpcyAnb2JqZWN0J1xuXHRcdFx0XHRfLm9wdGlvbnMudHJhbnNmb3JtcyA9IHRyYW5zZm9ybVxuXHRcdFx0XG5cdFx0XHRyZXR1cm4gX1xuXG5cblx0J2ZpbHRlcic6IGdldDogKCktPlxuXHRcdF8gPSBpZiBAaXNCYXNlIHRoZW4gbmV3QnVpbGRlcigpIGVsc2UgQFxuXHRcdHJldHVybiAoZmlsdGVyKS0+XG5cdFx0XHRpZiB0eXBlb2YgZmlsdGVyIGlzICdmdW5jdGlvbidcblx0XHRcdFx0Xy5vcHRpb25zLmdsb2JhbEZpbHRlciA9IGZpbHRlclxuXHRcdFx0ZWxzZSBpZiBmaWx0ZXIgYW5kIHR5cGVvZiBmaWx0ZXIgaXMgJ29iamVjdCdcblx0XHRcdFx0Xy5vcHRpb25zLmZpbHRlcnMgPSBmaWx0ZXJcblx0XHRcdFxuXHRcdFx0cmV0dXJuIF9cblxuXG5cbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0cyA9IG5ld0J1aWxkZXIodHJ1ZSlcbmV4cG9ydHMudmVyc2lvbiA9IGltcG9ydCAnLi4vcGFja2FnZS5qc29uICQgdmVyc2lvbiciLCJ7XG4gIFwiX2Zyb21cIjogXCJzbWFydC1leHRlbmRcIixcbiAgXCJfaWRcIjogXCJzbWFydC1leHRlbmRAMS43LjNcIixcbiAgXCJfaW5CdW5kbGVcIjogZmFsc2UsXG4gIFwiX2ludGVncml0eVwiOiBcInNoYTUxMi1QVkVFVllERHp5eEtBMEdORkxjV1k2b0pTa1FLZGMxdzcxOGVRcEVIY051VFNXWXhESzM1R3poc0doTWtVVThsQklnU0VEYnQ1eDVwNDZwUnozQXViQT09XCIsXG4gIFwiX2xvY2F0aW9uXCI6IFwiL3NtYXJ0LWV4dGVuZFwiLFxuICBcIl9waGFudG9tQ2hpbGRyZW5cIjoge30sXG4gIFwiX3JlcXVlc3RlZFwiOiB7XG4gICAgXCJ0eXBlXCI6IFwidGFnXCIsXG4gICAgXCJyZWdpc3RyeVwiOiB0cnVlLFxuICAgIFwicmF3XCI6IFwic21hcnQtZXh0ZW5kXCIsXG4gICAgXCJuYW1lXCI6IFwic21hcnQtZXh0ZW5kXCIsXG4gICAgXCJlc2NhcGVkTmFtZVwiOiBcInNtYXJ0LWV4dGVuZFwiLFxuICAgIFwicmF3U3BlY1wiOiBcIlwiLFxuICAgIFwic2F2ZVNwZWNcIjogbnVsbCxcbiAgICBcImZldGNoU3BlY1wiOiBcImxhdGVzdFwiXG4gIH0sXG4gIFwiX3JlcXVpcmVkQnlcIjogW1xuICAgIFwiI1VTRVJcIixcbiAgICBcIi9cIixcbiAgICBcIi9zaW1wbHl3YXRjaFwiXG4gIF0sXG4gIFwiX3Jlc29sdmVkXCI6IFwiaHR0cHM6Ly9yZWdpc3RyeS5ucG1qcy5vcmcvc21hcnQtZXh0ZW5kLy0vc21hcnQtZXh0ZW5kLTEuNy4zLnRnelwiLFxuICBcIl9zaGFzdW1cIjogXCIwZmU0YTQyNmM4NjM4ZjQ4Zjk5YjdjYzg1ZTI3Njc5MWVjZjVhZjJiXCIsXG4gIFwiX3NwZWNcIjogXCJzbWFydC1leHRlbmRcIixcbiAgXCJfd2hlcmVcIjogXCIvVXNlcnMvZGFuaWVsa2FsZW4vc2FuZGJveC9leGl0LWludGVudFwiLFxuICBcImF1dGhvclwiOiB7XG4gICAgXCJuYW1lXCI6IFwiZGFuaWVsa2FsZW5cIlxuICB9LFxuICBcImJyb3dzZXJcIjoge1xuICAgIFwiLi9kZWJ1Z1wiOiBcImRpc3Qvc21hcnQtZXh0ZW5kLmRlYnVnLmpzXCIsXG4gICAgXCIuL2Rpc3Qvc21hcnQtZXh0ZW5kLmpzXCI6IFwic3JjL2luZGV4LmNvZmZlZVwiXG4gIH0sXG4gIFwiYnJvd3NlcmlmeVwiOiB7XG4gICAgXCJ0cmFuc2Zvcm1cIjogW1xuICAgICAgXCJzaW1wbHlpbXBvcnQvY29tcGF0XCJcbiAgICBdXG4gIH0sXG4gIFwiYnVnc1wiOiB7XG4gICAgXCJ1cmxcIjogXCJodHRwczovL2dpdGh1Yi5jb20vZGFuaWVsa2FsZW4vc21hcnQtZXh0ZW5kL2lzc3Vlc1wiXG4gIH0sXG4gIFwiYnVuZGxlRGVwZW5kZW5jaWVzXCI6IGZhbHNlLFxuICBcImRlcGVuZGVuY2llc1wiOiB7XG4gICAgXCJmYWxhZmVsXCI6IFwiXjIuMS4wXCJcbiAgfSxcbiAgXCJkZXByZWNhdGVkXCI6IGZhbHNlLFxuICBcImRlc2NyaXB0aW9uXCI6IFwiTWVyZ2UvZXh0ZW5kIG9iamVjdHMgKHNoYWxsb3cvZGVlcCkgd2l0aCBnbG9iYWwvaW5kaXZpZHVhbCBmaWx0ZXJzIGFuZCBtb3JlIGZlYXR1cmVzXCIsXG4gIFwiZGV2RGVwZW5kZW5jaWVzXCI6IHtcbiAgICBcImJhZGdlLWdlblwiOiBcIl4xLjAuMlwiLFxuICAgIFwiYmx1ZWJpcmRcIjogXCJeMy40LjdcIixcbiAgICBcImNoYWlcIjogXCJeMy41LjBcIixcbiAgICBcImNvZmZlZS1yZWdpc3RlclwiOiBcIl4wLjEuMFwiLFxuICAgIFwiY29mZmVlaWZ5LWNhY2hlZFwiOiBcIl4yLjEuMVwiLFxuICAgIFwiZXh0ZW5kXCI6IFwiXjMuMC4xXCIsXG4gICAgXCJnb29nbGUtY2xvc3VyZS1jb21waWxlci1qc1wiOiBcIl4yMDE3MDYyNi4wLjBcIixcbiAgICBcIm1vY2hhXCI6IFwiXjMuMi4wXCIsXG4gICAgXCJzaW1wbHlpbXBvcnRcIjogXCJeNC4wLjAtczIxXCIsXG4gICAgXCJzaW1wbHl3YXRjaFwiOiBcIl4zLjAuMC1sMlwiLFxuICAgIFwidWdsaWZ5LWpzXCI6IFwiXjMuMC4yNFwiXG4gIH0sXG4gIFwiaG9tZXBhZ2VcIjogXCJodHRwczovL2dpdGh1Yi5jb20vZGFuaWVsa2FsZW4vc21hcnQtZXh0ZW5kI3JlYWRtZVwiLFxuICBcImtleXdvcmRzXCI6IFtcbiAgICBcImV4dGVuZFwiLFxuICAgIFwiY2xvbmVcIixcbiAgICBcImZpbHRlclwiLFxuICAgIFwic2VsZWN0aXZlXCIsXG4gICAgXCJtZXJnZVwiLFxuICAgIFwiYXNzaWduXCIsXG4gICAgXCJwcm9wZXJ0aWVzXCJcbiAgXSxcbiAgXCJsaWNlbnNlXCI6IFwiSVNDXCIsXG4gIFwibWFpblwiOiBcImRpc3Qvc21hcnQtZXh0ZW5kLmpzXCIsXG4gIFwibW9jaGFfb3B0c1wiOiBcIi11IHRkZCAtLWNvbXBpbGVycyBjb2ZmZWU6Y29mZmVlLXJlZ2lzdGVyIC0tc2xvdyAxMDAwIC0tdGltZW91dCA1MDAwXCIsXG4gIFwibmFtZVwiOiBcInNtYXJ0LWV4dGVuZFwiLFxuICBcInJlcG9zaXRvcnlcIjoge1xuICAgIFwidHlwZVwiOiBcImdpdFwiLFxuICAgIFwidXJsXCI6IFwiZ2l0K2h0dHBzOi8vZ2l0aHViLmNvbS9kYW5pZWxrYWxlbi9zbWFydC1leHRlbmQuZ2l0XCJcbiAgfSxcbiAgXCJzY3JpcHRzXCI6IHtcbiAgICBcImJ1aWxkXCI6IFwibWtkaXIgLXAgZGlzdC87IG5wbSBydW4gYnVpbGQ6ZGVidWcgJiYgbnBtIHJ1biBidWlsZDpyZWxlYXNlXCIsXG4gICAgXCJidWlsZDpkZWJ1Z1wiOiBcInNpbXBseWltcG9ydCBidW5kbGUgc3JjL2luZGV4LmNvZmZlZSAtZCAtLXRhcmdldCBub2RlIC0tdW1kIHNtYXJ0LWV4dGVuZCA+IGRpc3Qvc21hcnQtZXh0ZW5kLmRlYnVnLmpzXCIsXG4gICAgXCJidWlsZDpyZWxlYXNlXCI6IFwic2ltcGx5aW1wb3J0IGJ1bmRsZSBzcmMvaW5kZXguY29mZmVlIC0tdGFyZ2V0IG5vZGUgLS11bWQgc21hcnQtZXh0ZW5kID4gZGlzdC9zbWFydC1leHRlbmQuanNcIixcbiAgICBcImNvdmVyYWdlXCI6IFwibnBtIHJ1biBjb3ZlcmFnZTpydW4gJiYgbnBtIHJ1biBjb3ZlcmFnZTpiYWRnZVwiLFxuICAgIFwiY292ZXJhZ2U6YmFkZ2VcIjogXCJiYWRnZS1nZW4gLWQgLmNvbmZpZy9iYWRnZXMvY292ZXJhZ2VcIixcbiAgICBcImNvdmVyYWdlOnJ1blwiOiBcImZvckNvdmVyYWdlPXRydWUgaXN0YW5idWwgY292ZXIgLS1kaXIgY292ZXJhZ2Ugbm9kZV9tb2R1bGVzL21vY2hhL2Jpbi9fbW9jaGEgLS0gJG5wbV9wYWNrYWdlX21vY2hhX29wdHNcIixcbiAgICBcInBvc3RwdWJsaXNoXCI6IFwiZ2l0IHB1c2hcIixcbiAgICBcInBvc3R2ZXJzaW9uXCI6IFwibnBtIHJ1biBidWlsZCAmJiBnaXQgYWRkIC4gJiYgZ2l0IGNvbW1pdCAtYSAtbSAnW0J1aWxkXSdcIixcbiAgICBcInByZXB1Ymxpc2hPbmx5XCI6IFwiQ0k9MSBucG0gcnVuIHRlc3RcIixcbiAgICBcInRlc3RcIjogXCJtb2NoYSAkbnBtX3BhY2thZ2VfbW9jaGFfb3B0c1wiLFxuICAgIFwid2F0Y2hcIjogXCJzaW1wbHl3YXRjaCAtZyAnc3JjLyonIC14ICducG0gcnVuIGJ1aWxkOmRlYnVnIC1zJ1wiXG4gIH0sXG4gIFwic2ltcGx5aW1wb3J0XCI6IHtcbiAgICBcInRyYW5zZm9ybVwiOiBbXG4gICAgICBcImNvZmZlZWlmeS1jYWNoZWRcIixcbiAgICAgIFwiLi8uY29uZmlnL3RyYW5zZm9ybXMvbWFjcm9zXCJcbiAgICBdLFxuICAgIFwiZmluYWxUcmFuc2Zvcm1cIjogW1xuICAgICAgXCIuY29uZmlnL3RyYW5zZm9ybXMvbWluaWZ5LXN1cGVyXCIsXG4gICAgICBcIi5jb25maWcvdHJhbnNmb3Jtcy9taW5pZnktcmVuYW1lXCIsXG4gICAgICBcIi5jb25maWcvdHJhbnNmb3Jtcy9taW5pZnktc2ltcGxlXCJcbiAgICBdXG4gIH0sXG4gIFwidmVyc2lvblwiOiBcIjEuNy4zXCJcbn1cbiIsIm1vZHVsZS5leHBvcnRzID0gXG5cdHRocmVzaG9sZDogMTUiLCJicm93c2VySW5mbyA9IGltcG9ydCAnLi9icm93c2VySW5mbydcbiQgPSB3aW5kb3cualF1ZXJ5XG5cbmV4cG9ydCBvcGVuID0gKCktPlxuXHRAcG9wdXAub3BlbigpXG5cdEBpc09wZW4gPSB0cnVlXG5cdEBkaXNhYmxlZCA9IHRydWVcblx0QGRldGFjaE9wZW5pbmdFdmVudHMoKVxuXG5leHBvcnQgY2xvc2UgPSAoKS0+XG5cdEBwb3B1cC5jbG9zZSgpXG5cdEBpc09wZW4gPSBmYWxzZVxuXG5leHBvcnQgZW1pdCA9IChldmVudCktPlxuXHRAZWwudHJpZ2dlcihldmVudClcblx0QHBvcHVwLmVtaXQoZXZlbnQpXG5cbmV4cG9ydCByZXBsYWNlV2l0aCA9ICgkbmV3Rm9ybSktPlxuXHRAcG9wdXAucmVwbGFjZVdpdGgoJG5ld0Zvcm0pXG5cdEBhdHRhY2hNaXNjRXZlbnRzKClcblxuXG5cblx0XHRcblxuZXhwb3J0IGF0dGFjaE9wZW5pbmdFdmVudHMgPSAoKS0+XG5cdCMjIypcblx0IyBPcGVucyB0aGUgcG9wdXAgaWYgdGhlIHVzZXIncyBtb3VzZSBtb3ZlcyBmcm9tIHRoZSBpbnNpZGUgb2YgdGhlIHZpZXdwb3J0XG5cdCMgdG8gb3V0c2lkZSBvZiB0aGUgdmlld3BvcnQncyBZIGF4aXMuXG5cdCMjI1xuXHR1bmxlc3MgYnJvd3NlckluZm8uaXNNb2JpbGUgIyBObyBuZWVkIHRvIGF0dGFjaCBmb3IgbW9iaWxlIGRldmljZXNcblx0XHRiYXNlID0gaWYgYnJvd3NlckluZm8uaXNJRSBvciBicm93c2VySW5mby5pc0lFMTEgb3IgYnJvd3NlckluZm8uaXNFZGdlIHRoZW4gMTEwIGVsc2UgMFxuXHRcdHRocmVzaG9sZCA9IEBvcHRpb25zLnRocmVzaG9sZCArIGJhc2VcblxuXHRcdCQoZG9jdW1lbnQpLm9uIFwibW91c2VsZWF2ZS4je0BuYW1lfVwiLCAoZXZlbnQpPT5cblx0XHRcdHJldHVybiBpZiBAZGlzYWJsZWQgb3IgUG9wdXA6OmlzT3BlbiBvciBldmVudC5yZWxhdGVkVGFyZ2V0XG5cdFx0XHRpZiBldmVudC5jbGllbnRZIDw9IHRocmVzaG9sZFxuXHRcdFx0XHRAb3BlbigpXG5cdFx0XHRcdEBlbWl0ICdtb3VzZW9wZW4nXG5cblxuXHQjIyMqXG5cdCMgT3BlbnMgdGhlIHBvcHVwIGlmIHRoZSB1c2VyJ3MgdHJpZXMgdG8gbmF2aWdhdGUgYmFja3dhcmRzLiBXZSBhcHBseSBhIHRyaWNrXG5cdCMgdG8gdGhlIHdpbmRvdy5oaXN0b3J5IHByb3BlcnR5IHVzaW5nIGl0cyByZXBsYWNlU3RhdGUoKSBhbmQgcHVzaFN0YXRlKCkgbWV0aG9kc1xuXHQjIHRvIHJlZ2lzdGVyIHRoZSBwcmV2aW91cyBwYWdlIGluIHRoZSBicm93c2VyJ3MgaGlzdG9yeSBhcyB0aGUgY3VycmVudCBwYWdlLiBXZVxuXHQjIHRoZW4gbGlzdGVuIHRvIHRoZSBwb3BzdGF0ZSBldmVudCB3aGljaCB0cmlnZ2VycyB3aGVuIHRoZSBwYWdlIG5hdmlnYXRlcyBhd2F5LlxuXHQjIFNpbmNlIElFIGRvZXNuJ3QgZnVsbHkgc3VwcG9ydCB0aGVzZSBtZXRob2RzLCB3ZSBkaXNhYmxlIHRoZW0gY29tcGxldGVseSBmb3IgSUUuXG5cdCMjI1xuXHR1bmxlc3MgYnJvd3NlckluZm8uaXNJRSBvciBicm93c2VySW5mby5pc0lFMTEgb3IgYnJvd3NlckluZm8uaXNNb2JpbGUgb3IgQGRpc2FibGVkIG9yIEBpc09wZW5cblx0XHR3aW5kb3cuaGlzdG9yeS5yZXBsYWNlU3RhdGUge2lkOiAnZXhpdC1pbml0J30sICcnLCAnJ1xuXHRcdHdpbmRvdy5oaXN0b3J5LnB1c2hTdGF0ZSB7aWQ6ICdleGl0LWNvbnRyb2wnfSwgJycsICcnXG5cdFx0XG5cdFx0JCh3aW5kb3cpLm9uICdwb3BzdGF0ZScsIChlKT0+XG5cdFx0XHRpZiAhQGRpc2FibGVkIGFuZCAnc3RhdGUnIG9mIHdpbmRvdy5oaXN0b3J5IGFuZCB3aW5kb3cuaGlzdG9yeS5zdGF0ZSBpc250IG51bGwgYW5kIHdpbmRvdy5oaXN0b3J5LnN0YXRlLmlkICE9ICdleGl0LWNvbnRyb2wnXG5cdFx0XHRcdEBvcGVuKClcblx0XHRcdFx0QGVtaXQgJ2hpc3RvcnlvcGVuJ1xuXHRcdFx0ZWxzZVxuXHRcdFx0XHR3aW5kb3cuaGlzdG9yeS5iYWNrKClcblxuXG5cblxuXG5cbmV4cG9ydCBhdHRhY2hNaXNjRXZlbnRzID0gKCktPlxuXHRAZWwuZmluZCgnLm5vJykub24gXCJjbGljay4je0BuYW1lfVwiLCAoKT0+XG5cdFx0QGNsb3NlKClcblx0XHR0cnkgbG9jYWxTdG9yYWdlLnNldEl0ZW0gJ2V4aXRfaW50ZW50LWNvbXBsZXRlJywgJ3RydWUnXG5cblxuXHRAZWwuZmluZCgnLnN1Ym1pdCcpLm9uIFwiY2xpY2suI3tAbmFtZX1cIiwgKCk9PlxuXHRcdEBlbWl0ICdzdWJtaXR0ZWQnXG5cblxuXHRAZWwuZmluZCgnLnN0ZXAnKS5maXJzdCgpLmZpbmQoJy5uZXh0Jykub24gXCJjbGljay4je0BuYW1lfVwiLCAoKT0+XG5cdFx0QGVtaXQgJ2NvbnRpbnVlZCdcblxuXG5cblxuZXhwb3J0IGRldGFjaEV2ZW50cyA9ICgpLT5cblx0QGVsLmZpbmQoJy5ubycpLm9mZiBcImNsaWNrLiN7QG5hbWV9XCJcblx0QGVsLmZpbmQoJy5zdWJtaXQnKS5vZmYgXCJjbGljay4je0BuYW1lfVwiXG5cdEBlbC5maW5kKCcuc3RlcCcpLmZpcnN0KCkuZmluZCgnLm5leHQnKS5vZmYgXCJjbGljay4je0BuYW1lfVwiXG5cdEBkZXRhY2hPcGVuaW5nRXZlbnRzKClcblxuZXhwb3J0IGRldGFjaE9wZW5pbmdFdmVudHMgPSAoKS0+XG5cdCQoZG9jdW1lbnQpLm9mZiBcIm1vdXNlbGVhdmUuI3tAbmFtZX1cIlxuIiwiaXNBcnJheSA9ICh0YXJnZXQpLT5cblx0QXJyYXkuaXNBcnJheSh0YXJnZXQpXG5cbmlzT2JqZWN0ID0gKHRhcmdldCktPlxuXHR0YXJnZXQgYW5kIE9iamVjdDo6dG9TdHJpbmcuY2FsbCh0YXJnZXQpIGlzICdbb2JqZWN0IE9iamVjdF0nIG9yIGlzQXJyYXkodGFyZ2V0KVxuXG5zaG91bGREZWVwRXh0ZW5kID0gKG9wdGlvbnMsIHRhcmdldCwgcGFyZW50S2V5KS0+XG5cdGlmIG9wdGlvbnMuZGVlcFxuXHRcdGlmIG9wdGlvbnMubm90RGVlcCB0aGVuIG5vdCBvcHRpb25zLm5vdERlZXBbdGFyZ2V0XSBlbHNlIHRydWVcblxuXHRlbHNlIGlmIG9wdGlvbnMuZGVlcE9ubHlcblx0XHRvcHRpb25zLmRlZXBPbmx5W3RhcmdldF0gb3IgcGFyZW50S2V5IGFuZCBzaG91bGREZWVwRXh0ZW5kKG9wdGlvbnMsIHBhcmVudEtleSlcblxuXHQjIGVsc2UgZmFsc2VcblxuXG5tb2R1bGUuZXhwb3J0cyA9IGV4dGVuZCA9IChvcHRpb25zLCB0YXJnZXQsIHNvdXJjZXMsIHBhcmVudEtleSktPlxuXHR0YXJnZXQgPSB7fSBpZiBub3QgdGFyZ2V0IG9yIHR5cGVvZiB0YXJnZXQgaXNudCAnb2JqZWN0JyBhbmQgdHlwZW9mIHRhcmdldCBpc250ICdmdW5jdGlvbidcblxuXHRmb3Igc291cmNlIGluIHNvdXJjZXMgd2hlbiBzb3VyY2U/XG5cdFx0Zm9yIGtleSBvZiBzb3VyY2Vcblx0XHRcdHNvdXJjZVZhbHVlID0gc291cmNlW2tleV1cblx0XHRcdHRhcmdldFZhbHVlID0gdGFyZ2V0W2tleV1cblx0XHRcdFxuXHRcdFx0Y29udGludWUgaWYgc291cmNlVmFsdWUgaXMgdGFyZ2V0IG9yXG5cdFx0XHRcdFx0XHRzb3VyY2VWYWx1ZSBpcyB1bmRlZmluZWQgb3Jcblx0XHRcdFx0XHRcdChzb3VyY2VWYWx1ZSBpcyBudWxsIGFuZCBub3Qgb3B0aW9ucy5hbGxvd051bGwgYW5kIG5vdCBvcHRpb25zLm51bGxEZWxldGVzKSBvclxuXHRcdFx0XHRcdFx0KG9wdGlvbnMua2V5cyBhbmQgbm90IG9wdGlvbnMua2V5c1trZXldKSBvclxuXHRcdFx0XHRcdFx0KG9wdGlvbnMubm90S2V5cyBhbmQgb3B0aW9ucy5ub3RLZXlzW2tleV0pIG9yXG5cdFx0XHRcdFx0XHQob3B0aW9ucy5vd24gYW5kIG5vdCBzb3VyY2UuaGFzT3duUHJvcGVydHkoa2V5KSkgb3Jcblx0XHRcdFx0XHRcdChvcHRpb25zLmdsb2JhbEZpbHRlciBhbmQgbm90IG9wdGlvbnMuZ2xvYmFsRmlsdGVyKHNvdXJjZVZhbHVlLCBrZXksIHNvdXJjZSkpIG9yXG5cdFx0XHRcdFx0XHQob3B0aW9ucy5maWx0ZXJzIGFuZCBvcHRpb25zLmZpbHRlcnNba2V5XSBhbmQgbm90IG9wdGlvbnMuZmlsdGVyc1trZXldKHNvdXJjZVZhbHVlLCBrZXksIHNvdXJjZSkpXG5cdFx0XHRcblx0XHRcdGlmIHNvdXJjZVZhbHVlIGlzIG51bGwgYW5kIG9wdGlvbnMubnVsbERlbGV0ZXNcblx0XHRcdFx0ZGVsZXRlIHRhcmdldFtrZXldXG5cdFx0XHRcdGNvbnRpbnVlXG5cdFx0XHRpZiBvcHRpb25zLmdsb2JhbFRyYW5zZm9ybVxuXHRcdFx0XHRzb3VyY2VWYWx1ZSA9IG9wdGlvbnMuZ2xvYmFsVHJhbnNmb3JtKHNvdXJjZVZhbHVlLCBrZXksIHNvdXJjZSlcblx0XHRcdGlmIG9wdGlvbnMudHJhbnNmb3JtcyBhbmQgb3B0aW9ucy50cmFuc2Zvcm1zW2tleV1cblx0XHRcdFx0c291cmNlVmFsdWUgPSBvcHRpb25zLnRyYW5zZm9ybXNba2V5XShzb3VyY2VWYWx1ZSwga2V5LCBzb3VyY2UpXG5cdFxuXHRcdFx0c3dpdGNoXG5cdFx0XHRcdHdoZW4gb3B0aW9ucy5jb25jYXQgYW5kIGlzQXJyYXkoc291cmNlVmFsdWUpIGFuZCBpc0FycmF5KHRhcmdldFZhbHVlKVxuXHRcdFx0XHRcdHRhcmdldFtrZXldID0gdGFyZ2V0VmFsdWUuY29uY2F0KHNvdXJjZVZhbHVlKVxuXHRcdFx0XHRcblx0XHRcdFx0d2hlbiBzaG91bGREZWVwRXh0ZW5kKG9wdGlvbnMsIGtleSwgcGFyZW50S2V5KSBhbmQgaXNPYmplY3Qoc291cmNlVmFsdWUpXG5cdFx0XHRcdFx0c3ViVGFyZ2V0ID0gaWYgaXNPYmplY3QodGFyZ2V0VmFsdWUpIHRoZW4gdGFyZ2V0VmFsdWUgZWxzZSBpZiBpc0FycmF5KHNvdXJjZVZhbHVlKSB0aGVuIFtdIGVsc2Uge31cblx0XHRcdFx0XHR0YXJnZXRba2V5XSA9IGV4dGVuZChvcHRpb25zLCBzdWJUYXJnZXQsIFtzb3VyY2VWYWx1ZV0sIGtleSlcblxuXHRcdFx0XHRlbHNlXG5cdFx0XHRcdFx0dGFyZ2V0W2tleV0gPSBzb3VyY2VWYWx1ZVxuXG5cblx0cmV0dXJuIHRhcmdldFxuXG5cblxuXG5cblxuXG4iLCJtb2R1bGUuZXhwb3J0cyA9IFxuXHRpc0lFOiBkb2N1bWVudC5hbGwgYW5kICF3aW5kb3cuYXRvYlxuXHRpc0lFMTE6IHdpbmRvdy5uYXZpZ2F0b3IubXNQb2ludGVyRW5hYmxlZFxuXHRpc0VkZ2U6IC9FZGdlLy50ZXN0IHdpbmRvdy5uYXZpZ2F0b3I/LnVzZXJBZ2VudCBvciAnJ1xuXHRpc01vYmlsZTogZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsYXNzTmFtZS5pbmRleE9mKCdtb2JpbGUnKSBpc250IC0xIl19