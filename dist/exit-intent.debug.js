(function (require, global) {
require = (function (cache, modules, cx) {
return function (r) {
if (!modules[r]) throw new Error(r + ' is not a module');
return cache[r] ? cache[r].exports : ((cache[r] = {
exports: {}
}, cache[r].exports = modules[r].call(cx, require, cache[r], cache[r].exports)));
};
})({}, {
0: function (require, module, exports) {
var ExitIntent, defaults, extend;
extend = require(1);
defaults = require(2);
ExitIntent = (function () {
function ExitIntent(arg) {
var options, popupOptions;
(this.el = arg.el, this.name = arg.name, options = arg.options, popupOptions = arg.popupOptions);
if (!(this instanceof ExitIntent)) {
return new ExitIntent(arguments[0]);
}
this.options = extend.clone(defaults, options);
this.popup = this.createPopup(popupOptions);
this.name = this.popup.name;
this.disabled = false;
this.isOpen = false;
this.attachOpeningEvents();
this.attachMiscEvents();
ExitIntent.instances[this.name] = this;
}
ExitIntent.prototype.createPopup = function (options) {
var popup;
options = extend({
forceOpen: true
}, options);
popup = new Popup(this.el, this.name, options);
this.name = popup.name;
return popup;
};
extend(ExitIntent.prototype, require(3));
ExitIntent.version = "3.2.1";
ExitIntent.instances = {};
ExitIntent.disableAll = function () {
var instance, n, ref;
ref = ExitIntent.instances;
for (n in ref) {
instance = ref[n];
instance.disabled = true;
}
};
return ExitIntent;
})();
module.exports = ExitIntent;
return module.exports;
},
1: function (require, module, exports) {
var exports, extend, modifiers, newBuilder, normalizeKeys;
extend = require(5);
normalizeKeys = function (keys) {
var i, key, len, output;
if (keys) {
output = {};
if (typeof keys !== 'object') {
output[keys] = true;
} else {
if (!Array.isArray(keys)) {
keys = Object.keys(keys);
}
for ((i = 0, len = keys.length); i < len; i++) {
key = keys[i];
output[key] = true;
}
}
return output;
}
};
newBuilder = function (isBase) {
var builder;
builder = function (target) {
var theTarget;
var $_len = arguments.length, $_i = -1, sources = new Array($_len);
while (++$_i < $_len) sources[$_i] = arguments[$_i];
if (builder.options.target) {
theTarget = builder.options.target;
} else {
theTarget = target;
sources.shift();
}
return extend(builder.options, theTarget, sources);
};
if (isBase) {
builder.isBase = true;
}
builder.options = {};
Object.defineProperties(builder, modifiers);
return builder;
};
modifiers = {
'deep': {
get: function () {
var _;
_ = this.isBase ? newBuilder() : this;
_.options.deep = true;
return _;
}
},
'own': {
get: function () {
var _;
_ = this.isBase ? newBuilder() : this;
_.options.own = true;
return _;
}
},
'allowNull': {
get: function () {
var _;
_ = this.isBase ? newBuilder() : this;
_.options.allowNull = true;
return _;
}
},
'nullDeletes': {
get: function () {
var _;
_ = this.isBase ? newBuilder() : this;
_.options.nullDeletes = true;
return _;
}
},
'concat': {
get: function () {
var _;
_ = this.isBase ? newBuilder() : this;
_.options.concat = true;
return _;
}
},
'clone': {
get: function () {
var _;
_ = this.isBase ? newBuilder() : this;
_.options.target = {};
return _;
}
},
'notDeep': {
get: function () {
var _;
_ = this.isBase ? newBuilder() : this;
return function (keys) {
_.options.notDeep = normalizeKeys(keys);
return _;
};
}
},
'deepOnly': {
get: function () {
var _;
_ = this.isBase ? newBuilder() : this;
return function (keys) {
_.options.deepOnly = normalizeKeys(keys);
return _;
};
}
},
'keys': {
get: function () {
var _;
_ = this.isBase ? newBuilder() : this;
return function (keys) {
_.options.keys = normalizeKeys(keys);
return _;
};
}
},
'notKeys': {
get: function () {
var _;
_ = this.isBase ? newBuilder() : this;
return function (keys) {
_.options.notKeys = normalizeKeys(keys);
return _;
};
}
},
'transform': {
get: function () {
var _;
_ = this.isBase ? newBuilder() : this;
return function (transform) {
if (typeof transform === 'function') {
_.options.globalTransform = transform;
} else if (transform && typeof transform === 'object') {
_.options.transforms = transform;
}
return _;
};
}
},
'filter': {
get: function () {
var _;
_ = this.isBase ? newBuilder() : this;
return function (filter) {
if (typeof filter === 'function') {
_.options.globalFilter = filter;
} else if (filter && typeof filter === 'object') {
_.options.filters = filter;
}
return _;
};
}
}
};
module.exports = exports = newBuilder(true);
exports.version = "1.7.3";
return module.exports;
},
2: function (require, module, exports) {
module.exports = {
threshold: 15,
mouseleaveTrigger: true,
historyTrigger: true
};
return module.exports;
},
3: function (require, module, exports) {
var $, browserInfo;
browserInfo = require(7);
$ = window.jQuery;
var open = exports.open = function open() {
this.popup.open();
this.isOpen = true;
this.disabled = true;
return this.detachOpeningEvents();
};
var close = exports.close = function close() {
this.popup.close();
return this.isOpen = false;
};
var emit = exports.emit = function emit(event) {
this.el.trigger(event);
return this.popup.emit(event);
};
var replaceWith = exports.replaceWith = function replaceWith($newForm) {
this.popup.replaceWith($newForm);
return this.attachMiscEvents();
};
var attachOpeningEvents = exports.attachOpeningEvents = function attachOpeningEvents() {
if (this.options.mouseleaveTrigger) {
this.attachMouseleaveTrigger();
}
if (this.options.historyTrigger) {
return this.attachHistoryTrigger();
}
};
var attachMouseleaveTrigger = exports.attachMouseleaveTrigger = function attachMouseleaveTrigger() {
var base, threshold;
if (!browserInfo.isMobile) {
base = browserInfo.isIE || browserInfo.isIE11 || browserInfo.isEdge ? 110 : 0;
threshold = this.options.threshold + base;
return $(document).on("mouseleave." + this.name, (function (_this) {
return function (event) {
if (_this.disabled || Popup.prototype.isOpen || event.relatedTarget) {
return;
}
if (event.clientY <= threshold) {
_this.open();
return _this.emit('mouseopen');
}
};
})(this));
}
};
var attachHistoryTrigger = exports.attachHistoryTrigger = function attachHistoryTrigger() {
if (!(browserInfo.isIE || browserInfo.isIE11 || browserInfo.isMobile || this.disabled || this.isOpen)) {
window.history.replaceState({
id: 'exit-init'
}, '', '');
window.history.pushState({
id: 'exit-control'
}, '', '');
return $(window).on('popstate', (function (_this) {
return function (e) {
if (!_this.disabled && ('state' in window.history) && window.history.state !== null && window.history.state.id !== 'exit-control') {
_this.open();
return _this.emit('historyopen');
} else {
return window.history.back();
}
};
})(this));
}
};
var attachMiscEvents = exports.attachMiscEvents = function attachMiscEvents() {
this.el.find('.no').on("click." + this.name, (function (_this) {
return function () {
_this.close();
try {
return localStorage.setItem('exit_intent-complete', 'true');
} catch (error) {}
};
})(this));
this.el.find('.submit').on("click." + this.name, (function (_this) {
return function () {
return _this.emit('submitted');
};
})(this));
return this.el.find('.step').first().find('.next').on("click." + this.name, (function (_this) {
return function () {
return _this.emit('continued');
};
})(this));
};
var detachEvents = exports.detachEvents = function detachEvents() {
this.el.find('.no').off("click." + this.name);
this.el.find('.submit').off("click." + this.name);
this.el.find('.step').first().find('.next').off("click." + this.name);
return this.detachOpeningEvents();
};
var detachOpeningEvents = exports.detachOpeningEvents = function detachOpeningEvents() {
return $(document).off("mouseleave." + this.name);
};
return module.exports;
},
5: function (require, module, exports) {
var extend, isArray, isObject, shouldDeepExtend;
isArray = function (target) {
return Array.isArray(target);
};
isObject = function (target) {
return target && Object.prototype.toString.call(target) === '[object Object]' || isArray(target);
};
shouldDeepExtend = function (options, target, parentKey) {
if (options.deep) {
if (options.notDeep) {
return !options.notDeep[target];
} else {
return true;
}
} else if (options.deepOnly) {
return options.deepOnly[target] || parentKey && shouldDeepExtend(options, parentKey);
}
};
module.exports = extend = function (options, target, sources, parentKey) {
var i, key, len, source, sourceValue, subTarget, targetValue;
if (!target || typeof target !== 'object' && typeof target !== 'function') {
target = {};
}
for ((i = 0, len = sources.length); i < len; i++) {
source = sources[i];
if (source != null) {
for (key in source) {
sourceValue = source[key];
targetValue = target[key];
if (sourceValue === target || sourceValue === void 0 || (sourceValue === null && !options.allowNull && !options.nullDeletes) || (options.keys && !options.keys[key]) || (options.notKeys && options.notKeys[key]) || (options.own && !source.hasOwnProperty(key)) || (options.globalFilter && !options.globalFilter(sourceValue, key, source)) || (options.filters && options.filters[key] && !options.filters[key](sourceValue, key, source))) {
continue;
}
if (sourceValue === null && options.nullDeletes) {
delete target[key];
continue;
}
if (options.globalTransform) {
sourceValue = options.globalTransform(sourceValue, key, source);
}
if (options.transforms && options.transforms[key]) {
sourceValue = options.transforms[key](sourceValue, key, source);
}
switch (false) {
case !(options.concat && isArray(sourceValue) && isArray(targetValue)):
target[key] = targetValue.concat(sourceValue);
break;
case !(shouldDeepExtend(options, key, parentKey) && isObject(sourceValue)):
subTarget = isObject(targetValue) ? targetValue : isArray(sourceValue) ? [] : {};
target[key] = extend(options, subTarget, [sourceValue], key);
break;
default:
target[key] = sourceValue;
}
}
}
}
return target;
};
return module.exports;
},
7: function (require, module, exports) {
var ref;
module.exports = {
isIE: document.all && !window.atob,
isIE11: window.navigator.msPointerEnabled,
isEdge: (/Edge/).test(((ref = window.navigator) != null ? ref.userAgent : void 0) || ''),
isMobile: document.documentElement.className.indexOf('mobile') !== -1
};
return module.exports;
}
}, this);
return require(0);
}).call(this, null, typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : this);


//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluZGV4LmNvZmZlZSIsIi4uL3BhY2thZ2UuanNvbiIsIi4uL25vZGVfbW9kdWxlcy9zbWFydC1leHRlbmQvc3JjL2luZGV4LmNvZmZlZSIsIi4uL25vZGVfbW9kdWxlcy9zbWFydC1leHRlbmQvcGFja2FnZS5qc29uIiwiZGVmYXVsdHMuY29mZmVlIiwicHJvdG90eXBlLmNvZmZlZSIsIi4uL25vZGVfbW9kdWxlcy9zbWFydC1leHRlbmQvc3JjL2V4dGVuZC5jb2ZmZWUiLCJicm93c2VySW5mby5jb2ZmZWUiXSwibmFtZXMiOlsiRXhpdEludGVudCIsImRlZmF1bHRzIiwiYXJnIiwib3B0aW9ucyIsImVsIiwibmFtZSIsInBvcHVwT3B0aW9ucyIsImFyZ3VtZW50cyIsImV4dGVuZCIsImNsb25lIiwicG9wdXAiLCJjcmVhdGVQb3B1cCIsImRpc2FibGVkIiwiaXNPcGVuIiwiYXR0YWNoT3BlbmluZ0V2ZW50cyIsImF0dGFjaE1pc2NFdmVudHMiLCJpbnN0YW5jZXMiLCJmb3JjZU9wZW4iLCJQb3B1cCIsInByb3RvdHlwZSIsInZlcnNpb24iLCJkaXNhYmxlQWxsIiwiaW5zdGFuY2UiLCJtb2R1bGUiLCJleHBvcnRzIiwibm9ybWFsaXplS2V5cyIsImtleXMiLCJpIiwib3V0cHV0IiwiQXJyYXkiLCJpc0FycmF5IiwiT2JqZWN0Iiwia2V5IiwibmV3QnVpbGRlciIsImlzQmFzZSIsImJ1aWxkZXIiLCJ0YXJnZXQiLCJ0aGVUYXJnZXQiLCJsZW5ndGgiLCIkX2kiLCJzb3VyY2VzIiwic2hpZnQiLCJkZWZpbmVQcm9wZXJ0aWVzIiwibW9kaWZpZXJzIiwiZ2V0IiwiXyIsImRlZXAiLCJvd24iLCJhbGxvd051bGwiLCJudWxsRGVsZXRlcyIsImNvbmNhdCIsIm5vdERlZXAiLCJkZWVwT25seSIsIm5vdEtleXMiLCJ0cmFuc2Zvcm0iLCJnbG9iYWxUcmFuc2Zvcm0iLCJ0cmFuc2Zvcm1zIiwiZmlsdGVyIiwiZ2xvYmFsRmlsdGVyIiwiZmlsdGVycyIsInRocmVzaG9sZCIsIm1vdXNlbGVhdmVUcmlnZ2VyIiwiaGlzdG9yeVRyaWdnZXIiLCIkIiwid2luZG93IiwialF1ZXJ5Iiwib3BlbiIsImRldGFjaE9wZW5pbmdFdmVudHMiLCJjbG9zZSIsImVtaXQiLCJldmVudCIsInRyaWdnZXIiLCIkbmV3Rm9ybSIsInJlcGxhY2VXaXRoIiwiYXR0YWNoTW91c2VsZWF2ZVRyaWdnZXIiLCJhdHRhY2hIaXN0b3J5VHJpZ2dlciIsImJhc2UiLCJicm93c2VySW5mbyIsImlzTW9iaWxlIiwiaXNJRSIsImlzSUUxMSIsImlzRWRnZSIsImRvY3VtZW50Iiwib24iLCJfdGhpcyIsInJlbGF0ZWRUYXJnZXQiLCJjbGllbnRZIiwiaGlzdG9yeSIsInJlcGxhY2VTdGF0ZSIsImlkIiwicHVzaFN0YXRlIiwiZSIsInN0YXRlIiwiYmFjayIsImZpbmQiLCJsb2NhbFN0b3JhZ2UiLCJzZXRJdGVtIiwiZXJyb3IiLCJmaXJzdCIsIm9mZiIsImlzT2JqZWN0IiwidG9TdHJpbmciLCJjYWxsIiwic2hvdWxkRGVlcEV4dGVuZCIsInBhcmVudEtleSIsInNvdXJjZSIsInNvdXJjZVZhbHVlIiwidGFyZ2V0VmFsdWUiLCJoYXNPd25Qcm9wZXJ0eSIsInN1YlRhcmdldCIsInJlZiIsImFsbCIsImF0b2IiLCJuYXZpZ2F0b3IiLCJtc1BvaW50ZXJFbmFibGVkIiwidGVzdCIsInVzZXJBZ2VudCIsImRvY3VtZW50RWxlbWVudCIsImNsYXNzTmFtZSIsImluZGV4T2YiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7QUFBQUE7U0FBUztBQUNUQyxXQUFXO0FBRUxEO0FBQ1Esb0JBQUNFLEtBQUQ7QUFDWkM7QUFEYyxNQUFDQyxhQUFJLEtBQUNDLGlCQUFNRix1QkFBU0c7QUFDbkMsSUFBdUMsa0JBQWlCTixhQUF4RDtPQUFPLElBQUlBLFdBQVdPLFVBQVU7O0FBQ2hDLEtBQUNKLFVBQVVLLE9BQU9DLE1BQU1SLFVBQVVFO0FBQ2xDLEtBQUNPLFFBQVEsS0FBQ0MsWUFBWUw7QUFDdEIsS0FBQ0QsT0FBTyxL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VyxDQUFDSCxjQUFjMUU7OztBQUd4REksT0FBT0osT0FBTzBFOzs7OztBQUdsQixPQUFPdEU7Ozs7O0FDckRSMEU7T0FBT3RGLFVBQ051RDtNQUFNRyxTQUFTNkIsT0FBUSxDQUFDL0MsT0FBT2dEO0FBQy9CaEMsUUFBUWhCLE9BQU9pRCxVQUFVQztBQUN6QmpDLFFBQVEsU0FBT2tDLEtBQVBMLHdDQUE4Qk0sdUJBQWE7QUFDbkR0QyxVQUFVSSxTQUFTbUMsZ0JBQWdCQyxVQUFVQyxRQUFRLGNBQWUsQ0FBQyIsImZpbGUiOiJidW5kbGUuanMiLCJzb3VyY2VzQ29udGVudCI6W251bGwsIntcbiAgXCJuYW1lXCI6IFwiQGRhbmllbGthbGVuL2V4aXQtaW50ZW50XCIsXG4gIFwidmVyc2lvblwiOiBcIjMuMi4xXCIsXG4gIFwiZGVzY3JpcHRpb25cIjogXCJFeGl0IEludGVudCBFbmdpbmVcIixcbiAgXCJtYWluXCI6IFwiZGlzdC9leGl0LWludGVudC5qc1wiLFxuICBcImJyb3dzZXJcIjoge1xuICAgIFwiLi9kaXN0L2V4aXQtaW50ZW50LmpzXCI6IFwic3JjL2luZGV4LmNvZmZlZVwiLFxuICAgIFwiLi9zcmNcIjogXCJzcmMvZXhpdC1pbnRlbnQuY29mZmVlXCIsXG4gICAgXCIuL2RlYnVnXCI6IFwiZGlzdC9leGl0LWludGVudC5kZWJ1Zy5qc1wiXG4gIH0sXG4gIFwiZGV2RGVwZW5kZW5jaWVzXCI6IHtcbiAgICBcImNvZmZlZS1zY3JpcHRcIjogXCJeMS4xMi4wXCIsXG4gICAgXCJzaW1wbHlpbXBvcnRcIjogXCJeNC4wLjAtdDFcIixcbiAgICBcInNpbXBseXdhdGNoXCI6IFwiXjMuMC4wLWwyXCIsXG4gICAgXCJ1Z2xpZnktanNcIjogXCJeMi42LjJcIlxuICB9LFxuICBcInBlZXJEZXBlbmRlbmNpZXNcIjoge1xuICAgIFwianF1ZXJ5XCI6IFwiKlwiLFxuICAgIFwiQGRhbmllbGthbGVuL3BvcHVwLWVuZ2luZVwiOiBcIl4zLjAuMFwiXG4gIH0sXG4gIFwic2NyaXB0c1wiOiB7XG4gICAgXCJwb3N0dmVyc2lvblwiOiBcIm5wbSBydW4gYnVpbGQgJiYgZ2l0IGFkZCAuICYmIGdpdCBjb21taXQgLWEgLW0gJ1tCdWlsZF0nXCIsXG4gICAgXCJwb3N0cHVibGlzaFwiOiBcImdpdCBwdXNoXCIsXG4gICAgXCJidWlsZFwiOiBcIm5wbSBydW4gY29tcGlsZSAmJiBucG0gcnVuIG1pbmlmeVwiLFxuICAgIFwiY29tcGlsZVwiOiBcInNpbXBseWltcG9ydCBidW5kbGUgLWQgc3JjL2luZGV4LmNvZmZlZSA+IGRpc3QvZXhpdC1pbnRlbnQuZGVidWcuanNcIixcbiAgICBcIm1pbmlmeVwiOiBcInVnbGlmeWpzIGRpc3QvZXhpdC1pbnRlbnQuZGVidWcuanMgLW0gLWMga2VlcF9mYXJncyx1bnVzZWQ9ZmFsc2UgLW8gZGlzdC9leGl0LWludGVudC5qc1wiLFxuICAgIFwid2F0Y2hcIjogXCJzaW1wbHl3YXRjaCAtZyAnc3JjLyonIC14ICducG0gcnVuIGNvbXBpbGUgLXMnXCJcbiAgfSxcbiAgXCJyZXBvc2l0b3J5XCI6IHtcbiAgICBcInR5cGVcIjogXCJnaXRcIixcbiAgICBcInVybFwiOiBcImdpdCtodHRwczovL2dpdGh1Yi5jb20vZGFuaWVsa2FsZW4vZXhpdC1pbnRlbnQuZ2l0XCJcbiAgfSxcbiAgXCJhdXRob3JcIjogXCJEYW5pZWwgS2FsZW5cIixcbiAgXCJsaWNlbnNlXCI6IFwiSVNDXCIsXG4gIFwiYnVnc1wiOiB7XG4gICAgXCJ1cmxcIjogXCJodHRwczovL2dpdGh1Yi5jb20vZGFuaWVsa2FsZW4vZXhpdC1pbnRlbnQvaXNzdWVzXCJcbiAgfSxcbiAgXCJob21lcGFnZVwiOiBcImh0dHBzOi8vZ2l0aHViLmNvbS9kYW5pZWxrYWxlbi9leGl0LWludGVudCNyZWFkbWVcIixcbiAgXCJkZXBlbmRlbmNpZXNcIjoge1xuICAgIFwic21hcnQtZXh0ZW5kXCI6IFwiXjEuNy4zXCJcbiAgfVxufVxuIiwiZXh0ZW5kID0gcmVxdWlyZSAnLi9leHRlbmQnXG5cbm5vcm1hbGl6ZUtleXMgPSAoa2V5cyktPiBpZiBrZXlzXG5cdG91dHB1dCA9IHt9XG5cdGlmIHR5cGVvZiBrZXlzIGlzbnQgJ29iamVjdCdcblx0XHRvdXRwdXRba2V5c10gPSB0cnVlXG5cdGVsc2Vcblx0XHRrZXlzID0gT2JqZWN0LmtleXMoa2V5cykgaWYgbm90IEFycmF5LmlzQXJyYXkoa2V5cylcblx0XHRvdXRwdXRba2V5XSA9IHRydWUgZm9yIGtleSBpbiBrZXlzXG5cblx0cmV0dXJuIG91dHB1dFxuXG5cbm5ld0J1aWxkZXIgPSAoaXNCYXNlKS0+XG5cdGJ1aWxkZXIgPSAodGFyZ2V0KS0+XG5cdFx0RVhQQU5EX0FSR1VNRU5UUyhzb3VyY2VzKVxuXHRcdGlmIGJ1aWxkZXIub3B0aW9ucy50YXJnZXRcblx0XHRcdHRoZVRhcmdldCA9IGJ1aWxkZXIub3B0aW9ucy50YXJnZXRcblx0XHRlbHNlXG5cdFx0XHR0aGVUYXJnZXQgPSB0YXJnZXRcblx0XHRcdHNvdXJjZXMuc2hpZnQoKVxuXHRcdFxuXHRcdGV4dGVuZChidWlsZGVyLm9wdGlvbnMsIHRoZVRhcmdldCwgc291cmNlcylcblx0XG5cdGJ1aWxkZXIuaXNCYXNlID0gdHJ1ZSBpZiBpc0Jhc2Vcblx0YnVpbGRlci5vcHRpb25zID0ge31cblx0T2JqZWN0LmRlZmluZVByb3BlcnRpZXMoYnVpbGRlciwgbW9kaWZpZXJzKVxuXHRyZXR1cm4gYnVpbGRlclxuXG5cbm1vZGlmaWVycyA9IFxuXHQnZGVlcCc6IGdldDogKCktPlxuXHRcdF8gPSBpZiBAaXNCYXNlIHRoZW4gbmV3QnVpbGRlcigpIGVsc2UgQFxuXHRcdF8ub3B0aW9ucy5kZWVwID0gdHJ1ZVxuXHRcdHJldHVybiBfXG5cblx0J293bic6IGdldDogKCktPlxuXHRcdF8gPSBpZiBAaXNCYXNlIHRoZW4gbmV3QnVpbGRlcigpIGVsc2UgQFxuXHRcdF8ub3B0aW9ucy5vd24gPSB0cnVlXG5cdFx0cmV0dXJuIF9cblxuXHQnYWxsb3dOdWxsJzogZ2V0OiAoKS0+XG5cdFx0XyA9IGlmIEBpc0Jhc2UgdGhlbiBuZXdCdWlsZGVyKCkgZWxzZSBAXG5cdFx0Xy5vcHRpb25zLmFsbG93TnVsbCA9IHRydWVcblx0XHRyZXR1cm4gX1xuXG5cdCdudWxsRGVsZXRlcyc6IGdldDogKCktPlxuXHRcdF8gPSBpZiBAaXNCYXNlIHRoZW4gbmV3QnVpbGRlcigpIGVsc2UgQFxuXHRcdF8ub3B0aW9ucy5udWxsRGVsZXRlcyA9IHRydWVcblx0XHRyZXR1cm4gX1xuXG5cdCdjb25jYXQnOiBnZXQ6ICgpLT5cblx0XHRfID0gaWYgQGlzQmFzZSB0aGVuIG5ld0J1aWxkZXIoKSBlbHNlIEBcblx0XHRfLm9wdGlvbnMuY29uY2F0ID0gdHJ1ZVxuXHRcdHJldHVybiBfXG5cblx0J2Nsb25lJzogZ2V0OiAoKS0+XG5cdFx0XyA9IGlmIEBpc0Jhc2UgdGhlbiBuZXdCdWlsZGVyKCkgZWxzZSBAXG5cdFx0Xy5vcHRpb25zLnRhcmdldCA9IHt9XG5cdFx0cmV0dXJuIF9cblxuXHQnbm90RGVlcCc6IGdldDogKCktPlxuXHRcdF8gPSBpZiBAaXNCYXNlIHRoZW4gbmV3QnVpbGRlcigpIGVsc2UgQFxuXHRcdHJldHVybiAoa2V5cyktPlxuXHRcdFx0Xy5vcHRpb25zLm5vdERlZXAgPSBub3JtYWxpemVLZXlzKGtleXMpXHRcdFx0XG5cdFx0XHRyZXR1cm4gX1xuXG5cdCdkZWVwT25seSc6IGdldDogKCktPlxuXHRcdF8gPSBpZiBAaXNCYXNlIHRoZW4gbmV3QnVpbGRlcigpIGVsc2UgQFxuXHRcdHJldHVybiAoa2V5cyktPlxuXHRcdFx0Xy5vcHRpb25zLmRlZXBPbmx5ID0gbm9ybWFsaXplS2V5cyhrZXlzKVx0XHRcdFxuXHRcdFx0cmV0dXJuIF9cblxuXHQna2V5cyc6IGdldDogKCktPlxuXHRcdF8gPSBpZiBAaXNCYXNlIHRoZW4gbmV3QnVpbGRlcigpIGVsc2UgQFxuXHRcdHJldHVybiAoa2V5cyktPlxuXHRcdFx0Xy5vcHRpb25zLmtleXMgPSBub3JtYWxpemVLZXlzKGtleXMpXHRcdFx0XG5cdFx0XHRyZXR1cm4gX1xuXG5cdCdub3RLZXlzJzogZ2V0OiAoKS0+XG5cdFx0XyA9IGlmIEBpc0Jhc2UgdGhlbiBuZXdCdWlsZGVyKCkgZWxzZSBAXG5cdFx0cmV0dXJuIChrZXlzKS0+XG5cdFx0XHRfLm9wdGlvbnMubm90S2V5cyA9IG5vcm1hbGl6ZUtleXMoa2V5cylcdFx0XHRcblx0XHRcdHJldHVybiBfXG5cblx0J3RyYW5zZm9ybSc6IGdldDogKCktPlxuXHRcdF8gPSBpZiBAaXNCYXNlIHRoZW4gbmV3QnVpbGRlcigpIGVsc2UgQFxuXHRcdHJldHVybiAodHJhbnNmb3JtKS0+XG5cdFx0XHRpZiB0eXBlb2YgdHJhbnNmb3JtIGlzICdmdW5jdGlvbidcblx0XHRcdFx0Xy5vcHRpb25zLmdsb2JhbFRyYW5zZm9ybSA9IHRyYW5zZm9ybVxuXHRcdFx0ZWxzZSBpZiB0cmFuc2Zvcm0gYW5kIHR5cGVvZiB0cmFuc2Zvcm0gaXMgJ29iamVjdCdcblx0XHRcdFx0Xy5vcHRpb25zLnRyYW5zZm9ybXMgPSB0cmFuc2Zvcm1cblx0XHRcdFxuXHRcdFx0cmV0dXJuIF9cblxuXG5cdCdmaWx0ZXInOiBnZXQ6ICgpLT5cblx0XHRfID0gaWYgQGlzQmFzZSB0aGVuIG5ld0J1aWxkZXIoKSBlbHNlIEBcblx0XHRyZXR1cm4gKGZpbHRlciktPlxuXHRcdFx0aWYgdHlwZW9mIGZpbHRlciBpcyAnZnVuY3Rpb24nXG5cdFx0XHRcdF8ub3B0aW9ucy5nbG9iYWxGaWx0ZXIgPSBmaWx0ZXJcblx0XHRcdGVsc2UgaWYgZmlsdGVyIGFuZCB0eXBlb2YgZmlsdGVyIGlzICdvYmplY3QnXG5cdFx0XHRcdF8ub3B0aW9ucy5maWx0ZXJzID0gZmlsdGVyXG5cdFx0XHRcblx0XHRcdHJldHVybiBfXG5cblxuXG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHMgPSBuZXdCdWlsZGVyKHRydWUpXG5leHBvcnRzLnZlcnNpb24gPSBpbXBvcnQgJy4uL3BhY2thZ2UuanNvbiAkIHZlcnNpb24nIiwie1xuICBcIl9hcmdzXCI6IFtcbiAgICBbXG4gICAgICBcInNtYXJ0LWV4dGVuZEAxLjcuM1wiLFxuICAgICAgXCIvVXNlcnMvZGFuaWVsa2FsZW4vc2FuZGJveC9leGl0LWludGVudFwiXG4gICAgXVxuICBdLFxuICBcIl9mcm9tXCI6IFwic21hcnQtZXh0ZW5kQDEuNy4zXCIsXG4gIFwiX2lkXCI6IFwic21hcnQtZXh0ZW5kQDEuNy4zXCIsXG4gIFwiX2luQnVuZGxlXCI6IGZhbHNlLFxuICBcIl9pbnRlZ3JpdHlcIjogXCJzaGE1MTItUFZFRVZZRER6eXhLQTBHTkZMY1dZNm9KU2tRS2RjMXc3MThlUXBFSGNOdVRTV1l4REszNUd6aHNHaE1rVVU4bEJJZ1NFRGJ0NXg1cDQ2cFJ6M0F1YkE9PVwiLFxuICBcIl9sb2NhdGlvblwiOiBcIi9zbWFydC1leHRlbmRcIixcbiAgXCJfcGhhbnRvbUNoaWxkcmVuXCI6IHt9LFxuICBcIl9yZXF1ZXN0ZWRcIjoge1xuICAgIFwidHlwZVwiOiBcInZlcnNpb25cIixcbiAgICBcInJlZ2lzdHJ5XCI6IHRydWUsXG4gICAgXCJyYXdcIjogXCJzbWFydC1leHRlbmRAMS43LjNcIixcbiAgICBcIm5hbWVcIjogXCJzbWFydC1leHRlbmRcIixcbiAgICBcImVzY2FwZWROYW1lXCI6IFwic21hcnQtZXh0ZW5kXCIsXG4gICAgXCJyYXdTcGVjXCI6IFwiMS43LjNcIixcbiAgICBcInNhdmVTcGVjXCI6IG51bGwsXG4gICAgXCJmZXRjaFNwZWNcIjogXCIxLjcuM1wiXG4gIH0sXG4gIFwiX3JlcXVpcmVkQnlcIjogW1xuICAgIFwiL1wiLFxuICAgIFwiL3NpbXBseXdhdGNoXCJcbiAgXSxcbiAgXCJfcmVzb2x2ZWRcIjogXCJodHRwczovL3JlZ2lzdHJ5Lm5wbWpzLm9yZy9zbWFydC1leHRlbmQvLS9zbWFydC1leHRlbmQtMS43LjMudGd6XCIsXG4gIFwiX3NwZWNcIjogXCIxLjcuM1wiLFxuICBcIl93aGVyZVwiOiBcIi9Vc2Vycy9kYW5pZWxrYWxlbi9zYW5kYm94L2V4aXQtaW50ZW50XCIsXG4gIFwiYXV0aG9yXCI6IHtcbiAgICBcIm5hbWVcIjogXCJkYW5pZWxrYWxlblwiXG4gIH0sXG4gIFwiYnJvd3NlclwiOiB7XG4gICAgXCIuL2RlYnVnXCI6IFwiZGlzdC9zbWFydC1leHRlbmQuZGVidWcuanNcIixcbiAgICBcIi4vZGlzdC9zbWFydC1leHRlbmQuanNcIjogXCJzcmMvaW5kZXguY29mZmVlXCJcbiAgfSxcbiAgXCJicm93c2VyaWZ5XCI6IHtcbiAgICBcInRyYW5zZm9ybVwiOiBbXG4gICAgICBcInNpbXBseWltcG9ydC9jb21wYXRcIlxuICAgIF1cbiAgfSxcbiAgXCJidWdzXCI6IHtcbiAgICBcInVybFwiOiBcImh0dHBzOi8vZ2l0aHViLmNvbS9kYW5pZWxrYWxlbi9zbWFydC1leHRlbmQvaXNzdWVzXCJcbiAgfSxcbiAgXCJkZXBlbmRlbmNpZXNcIjoge1xuICAgIFwiZmFsYWZlbFwiOiBcIl4yLjEuMFwiXG4gIH0sXG4gIFwiZGVzY3JpcHRpb25cIjogXCJNZXJnZS9leHRlbmQgb2JqZWN0cyAoc2hhbGxvdy9kZWVwKSB3aXRoIGdsb2JhbC9pbmRpdmlkdWFsIGZpbHRlcnMgYW5kIG1vcmUgZmVhdHVyZXNcIixcbiAgXCJkZXZEZXBlbmRlbmNpZXNcIjoge1xuICAgIFwiYmFkZ2UtZ2VuXCI6IFwiXjEuMC4yXCIsXG4gICAgXCJibHVlYmlyZFwiOiBcIl4zLjQuN1wiLFxuICAgIFwiY2hhaVwiOiBcIl4zLjUuMFwiLFxuICAgIFwiY29mZmVlLXJlZ2lzdGVyXCI6IFwiXjAuMS4wXCIsXG4gICAgXCJjb2ZmZWVpZnktY2FjaGVkXCI6IFwiXjIuMS4xXCIsXG4gICAgXCJleHRlbmRcIjogXCJeMy4wLjFcIixcbiAgICBcImdvb2dsZS1jbG9zdXJlLWNvbXBpbGVyLWpzXCI6IFwiXjIwMTcwNjI2LjAuMFwiLFxuICAgIFwibW9jaGFcIjogXCJeMy4yLjBcIixcbiAgICBcInNpbXBseWltcG9ydFwiOiBcIl40LjAuMC1zMjFcIixcbiAgICBcInNpbXBseXdhdGNoXCI6IFwiXjMuMC4wLWwyXCIsXG4gICAgXCJ1Z2xpZnktanNcIjogXCJeMy4wLjI0XCJcbiAgfSxcbiAgXCJob21lcGFnZVwiOiBcImh0dHBzOi8vZ2l0aHViLmNvbS9kYW5pZWxrYWxlbi9zbWFydC1leHRlbmQjcmVhZG1lXCIsXG4gIFwia2V5d29yZHNcIjogW1xuICAgIFwiZXh0ZW5kXCIsXG4gICAgXCJjbG9uZVwiLFxuICAgIFwiZmlsdGVyXCIsXG4gICAgXCJzZWxlY3RpdmVcIixcbiAgICBcIm1lcmdlXCIsXG4gICAgXCJhc3NpZ25cIixcbiAgICBcInByb3BlcnRpZXNcIlxuICBdLFxuICBcImxpY2Vuc2VcIjogXCJJU0NcIixcbiAgXCJtYWluXCI6IFwiZGlzdC9zbWFydC1leHRlbmQuanNcIixcbiAgXCJtb2NoYV9vcHRzXCI6IFwiLXUgdGRkIC0tY29tcGlsZXJzIGNvZmZlZTpjb2ZmZWUtcmVnaXN0ZXIgLS1zbG93IDEwMDAgLS10aW1lb3V0IDUwMDBcIixcbiAgXCJuYW1lXCI6IFwic21hcnQtZXh0ZW5kXCIsXG4gIFwicmVwb3NpdG9yeVwiOiB7XG4gICAgXCJ0eXBlXCI6IFwiZ2l0XCIsXG4gICAgXCJ1cmxcIjogXCJnaXQraHR0cHM6Ly9naXRodWIuY29tL2RhbmllbGthbGVuL3NtYXJ0LWV4dGVuZC5naXRcIlxuICB9LFxuICBcInNjcmlwdHNcIjoge1xuICAgIFwiYnVpbGRcIjogXCJta2RpciAtcCBkaXN0LzsgbnBtIHJ1biBidWlsZDpkZWJ1ZyAmJiBucG0gcnVuIGJ1aWxkOnJlbGVhc2VcIixcbiAgICBcImJ1aWxkOmRlYnVnXCI6IFwic2ltcGx5aW1wb3J0IGJ1bmRsZSBzcmMvaW5kZXguY29mZmVlIC1kIC0tdGFyZ2V0IG5vZGUgLS11bWQgc21hcnQtZXh0ZW5kID4gZGlzdC9zbWFydC1leHRlbmQuZGVidWcuanNcIixcbiAgICBcImJ1aWxkOnJlbGVhc2VcIjogXCJzaW1wbHlpbXBvcnQgYnVuZGxlIHNyYy9pbmRleC5jb2ZmZWUgLS10YXJnZXQgbm9kZSAtLXVtZCBzbWFydC1leHRlbmQgPiBkaXN0L3NtYXJ0LWV4dGVuZC5qc1wiLFxuICAgIFwiY292ZXJhZ2VcIjogXCJucG0gcnVuIGNvdmVyYWdlOnJ1biAmJiBucG0gcnVuIGNvdmVyYWdlOmJhZGdlXCIsXG4gICAgXCJjb3ZlcmFnZTpiYWRnZVwiOiBcImJhZGdlLWdlbiAtZCAuY29uZmlnL2JhZGdlcy9jb3ZlcmFnZVwiLFxuICAgIFwiY292ZXJhZ2U6cnVuXCI6IFwiZm9yQ292ZXJhZ2U9dHJ1ZSBpc3RhbmJ1bCBjb3ZlciAtLWRpciBjb3ZlcmFnZSBub2RlX21vZHVsZXMvbW9jaGEvYmluL19tb2NoYSAtLSAkbnBtX3BhY2thZ2VfbW9jaGFfb3B0c1wiLFxuICAgIFwicG9zdHB1Ymxpc2hcIjogXCJnaXQgcHVzaFwiLFxuICAgIFwicG9zdHZlcnNpb25cIjogXCJucG0gcnVuIGJ1aWxkICYmIGdpdCBhZGQgLiAmJiBnaXQgY29tbWl0IC1hIC1tICdbQnVpbGRdJ1wiLFxuICAgIFwicHJlcHVibGlzaE9ubHlcIjogXCJDST0xIG5wbSBydW4gdGVzdFwiLFxuICAgIFwidGVzdFwiOiBcIm1vY2hhICRucG1fcGFja2FnZV9tb2NoYV9vcHRzXCIsXG4gICAgXCJ3YXRjaFwiOiBcInNpbXBseXdhdGNoIC1nICdzcmMvKicgLXggJ25wbSBydW4gYnVpbGQ6ZGVidWcgLXMnXCJcbiAgfSxcbiAgXCJzaW1wbHlpbXBvcnRcIjoge1xuICAgIFwidHJhbnNmb3JtXCI6IFtcbiAgICAgIFwiY29mZmVlaWZ5LWNhY2hlZFwiLFxuICAgICAgXCIuLy5jb25maWcvdHJhbnNmb3Jtcy9tYWNyb3NcIlxuICAgIF0sXG4gICAgXCJmaW5hbFRyYW5zZm9ybVwiOiBbXG4gICAgICBcIi5jb25maWcvdHJhbnNmb3Jtcy9taW5pZnktc3VwZXJcIixcbiAgICAgIFwiLmNvbmZpZy90cmFuc2Zvcm1zL21pbmlmeS1yZW5hbWVcIixcbiAgICAgIFwiLmNvbmZpZy90cmFuc2Zvcm1zL21pbmlmeS1zaW1wbGVcIlxuICAgIF1cbiAgfSxcbiAgXCJ2ZXJzaW9uXCI6IFwiMS43LjNcIlxufVxuIiwibW9kdWxlLmV4cG9ydHMgPSBcblx0dGhyZXNob2xkOiAxNVxuXHRtb3VzZWxlYXZlVHJpZ2dlcjogdHJ1ZVxuXHRoaXN0b3J5VHJpZ2dlcjogdHJ1ZSIsImJyb3dzZXJJbmZvID0gaW1wb3J0ICcuL2Jyb3dzZXJJbmZvJ1xuJCA9IHdpbmRvdy5qUXVlcnlcblxuZXhwb3J0IG9wZW4gPSAoKS0+XG5cdEBwb3B1cC5vcGVuKClcblx0QGlzT3BlbiA9IHRydWVcblx0QGRpc2FibGVkID0gdHJ1ZVxuXHRAZGV0YWNoT3BlbmluZ0V2ZW50cygpXG5cbmV4cG9ydCBjbG9zZSA9ICgpLT5cblx0QHBvcHVwLmNsb3NlKClcblx0QGlzT3BlbiA9IGZhbHNlXG5cbmV4cG9ydCBlbWl0ID0gKGV2ZW50KS0+XG5cdEBlbC50cmlnZ2VyKGV2ZW50KVxuXHRAcG9wdXAuZW1pdChldmVudClcblxuZXhwb3J0IHJlcGxhY2VXaXRoID0gKCRuZXdGb3JtKS0+XG5cdEBwb3B1cC5yZXBsYWNlV2l0aCgkbmV3Rm9ybSlcblx0QGF0dGFjaE1pc2NFdmVudHMoKVxuXG5cblxuXHRcdFxuXG5leHBvcnQgYXR0YWNoT3BlbmluZ0V2ZW50cyA9ICgpLT5cblx0QGF0dGFjaE1vdXNlbGVhdmVUcmlnZ2VyKCkgaWYgQG9wdGlvbnMubW91c2VsZWF2ZVRyaWdnZXJcblx0QGF0dGFjaEhpc3RvcnlUcmlnZ2VyKCkgaWYgQG9wdGlvbnMuaGlzdG9yeVRyaWdnZXJcblxuXG5cbiMjIypcbiMgT3BlbnMgdGhlIHBvcHVwIGlmIHRoZSB1c2VyJ3MgbW91c2UgbW92ZXMgZnJvbSB0aGUgaW5zaWRlIG9mIHRoZSB2aWV3cG9ydFxuIyB0byBvdXRzaWRlIG9mIHRoZSB2aWV3cG9ydCdzIFkgYXhpcy5cbiMjI1xuZXhwb3J0IGF0dGFjaE1vdXNlbGVhdmVUcmlnZ2VyID0gKCktPlxuXHR1bmxlc3MgYnJvd3NlckluZm8uaXNNb2JpbGUgIyBObyBuZWVkIHRvIGF0dGFjaCBmb3IgbW9iaWxlIGRldmljZXNcblx0XHRiYXNlID0gaWYgYnJvd3NlckluZm8uaXNJRSBvciBicm93c2VySW5mby5pc0lFMTEgb3IgYnJvd3NlckluZm8uaXNFZGdlIHRoZW4gMTEwIGVsc2UgMFxuXHRcdHRocmVzaG9sZCA9IEBvcHRpb25zLnRocmVzaG9sZCArIGJhc2VcblxuXHRcdCQoZG9jdW1lbnQpLm9uIFwibW91c2VsZWF2ZS4je0BuYW1lfVwiLCAoZXZlbnQpPT5cblx0XHRcdHJldHVybiBpZiBAZGlzYWJsZWQgb3IgUG9wdXA6OmlzT3BlbiBvciBldmVudC5yZWxhdGVkVGFyZ2V0XG5cdFx0XHRpZiBldmVudC5jbGllbnRZIDw9IHRocmVzaG9sZFxuXHRcdFx0XHRAb3BlbigpXG5cdFx0XHRcdEBlbWl0ICdtb3VzZW9wZW4nXG5cblxuIyMjKlxuIyBPcGVucyB0aGUgcG9wdXAgaWYgdGhlIHVzZXIncyB0cmllcyB0byBuYXZpZ2F0ZSBiYWNrd2FyZHMuIFdlIGFwcGx5IGEgdHJpY2tcbiMgdG8gdGhlIHdpbmRvdy5oaXN0b3J5IHByb3BlcnR5IHVzaW5nIGl0cyByZXBsYWNlU3RhdGUoKSBhbmQgcHVzaFN0YXRlKCkgbWV0aG9kc1xuIyB0byByZWdpc3RlciB0aGUgcHJldmlvdXMgcGFnZSBpbiB0aGUgYnJvd3NlcidzIGhpc3RvcnkgYXMgdGhlIGN1cnJlbnQgcGFnZS4gV2VcbiMgdGhlbiBsaXN0ZW4gdG8gdGhlIHBvcHN0YXRlIGV2ZW50IHdoaWNoIHRyaWdnZXJzIHdoZW4gdGhlIHBhZ2UgbmF2aWdhdGVzIGF3YXkuXG4jIFNpbmNlIElFIGRvZXNuJ3QgZnVsbHkgc3VwcG9ydCB0aGVzZSBtZXRob2RzLCB3ZSBkaXNhYmxlIHRoZW0gY29tcGxldGVseSBmb3IgSUUuXG4jIyNcbmV4cG9ydCBhdHRhY2hIaXN0b3J5VHJpZ2dlciA9ICgpLT5cblx0dW5sZXNzIGJyb3dzZXJJbmZvLmlzSUUgb3IgYnJvd3NlckluZm8uaXNJRTExIG9yIGJyb3dzZXJJbmZvLmlzTW9iaWxlIG9yIEBkaXNhYmxlZCBvciBAaXNPcGVuXG5cdFx0d2luZG93Lmhpc3RvcnkucmVwbGFjZVN0YXRlIHtpZDogJ2V4aXQtaW5pdCd9LCAnJywgJydcblx0XHR3aW5kb3cuaGlzdG9yeS5wdXNoU3RhdGUge2lkOiAnZXhpdC1jb250cm9sJ30sICcnLCAnJ1xuXHRcdFxuXHRcdCQod2luZG93KS5vbiAncG9wc3RhdGUnLCAoZSk9PlxuXHRcdFx0aWYgIUBkaXNhYmxlZCBhbmQgJ3N0YXRlJyBvZiB3aW5kb3cuaGlzdG9yeSBhbmQgd2luZG93Lmhpc3Rvcnkuc3RhdGUgaXNudCBudWxsIGFuZCB3aW5kb3cuaGlzdG9yeS5zdGF0ZS5pZCAhPSAnZXhpdC1jb250cm9sJ1xuXHRcdFx0XHRAb3BlbigpXG5cdFx0XHRcdEBlbWl0ICdoaXN0b3J5b3Blbidcblx0XHRcdGVsc2Vcblx0XHRcdFx0d2luZG93Lmhpc3RvcnkuYmFjaygpXG5cblxuXG5leHBvcnQgYXR0YWNoTWlzY0V2ZW50cyA9ICgpLT5cblx0QGVsLmZpbmQoJy5ubycpLm9uIFwiY2xpY2suI3tAbmFtZX1cIiwgKCk9PlxuXHRcdEBjbG9zZSgpXG5cdFx0dHJ5IGxvY2FsU3RvcmFnZS5zZXRJdGVtICdleGl0X2ludGVudC1jb21wbGV0ZScsICd0cnVlJ1xuXG5cblx0QGVsLmZpbmQoJy5zdWJtaXQnKS5vbiBcImNsaWNrLiN7QG5hbWV9XCIsICgpPT5cblx0XHRAZW1pdCAnc3VibWl0dGVkJ1xuXG5cblx0QGVsLmZpbmQoJy5zdGVwJykuZmlyc3QoKS5maW5kKCcubmV4dCcpLm9uIFwiY2xpY2suI3tAbmFtZX1cIiwgKCk9PlxuXHRcdEBlbWl0ICdjb250aW51ZWQnXG5cblxuXG5cbmV4cG9ydCBkZXRhY2hFdmVudHMgPSAoKS0+XG5cdEBlbC5maW5kKCcubm8nKS5vZmYgXCJjbGljay4je0BuYW1lfVwiXG5cdEBlbC5maW5kKCcuc3VibWl0Jykub2ZmIFwiY2xpY2suI3tAbmFtZX1cIlxuXHRAZWwuZmluZCgnLnN0ZXAnKS5maXJzdCgpLmZpbmQoJy5uZXh0Jykub2ZmIFwiY2xpY2suI3tAbmFtZX1cIlxuXHRAZGV0YWNoT3BlbmluZ0V2ZW50cygpXG5cbmV4cG9ydCBkZXRhY2hPcGVuaW5nRXZlbnRzID0gKCktPlxuXHQkKGRvY3VtZW50KS5vZmYgXCJtb3VzZWxlYXZlLiN7QG5hbWV9XCJcbiIsImlzQXJyYXkgPSAodGFyZ2V0KS0+XG5cdEFycmF5LmlzQXJyYXkodGFyZ2V0KVxuXG5pc09iamVjdCA9ICh0YXJnZXQpLT5cblx0dGFyZ2V0IGFuZCBPYmplY3Q6OnRvU3RyaW5nLmNhbGwodGFyZ2V0KSBpcyAnW29iamVjdCBPYmplY3RdJyBvciBpc0FycmF5KHRhcmdldClcblxuc2hvdWxkRGVlcEV4dGVuZCA9IChvcHRpb25zLCB0YXJnZXQsIHBhcmVudEtleSktPlxuXHRpZiBvcHRpb25zLmRlZXBcblx0XHRpZiBvcHRpb25zLm5vdERlZXAgdGhlbiBub3Qgb3B0aW9ucy5ub3REZWVwW3RhcmdldF0gZWxzZSB0cnVlXG5cblx0ZWxzZSBpZiBvcHRpb25zLmRlZXBPbmx5XG5cdFx0b3B0aW9ucy5kZWVwT25seVt0YXJnZXRdIG9yIHBhcmVudEtleSBhbmQgc2hvdWxkRGVlcEV4dGVuZChvcHRpb25zLCBwYXJlbnRLZXkpXG5cblx0IyBlbHNlIGZhbHNlXG5cblxubW9kdWxlLmV4cG9ydHMgPSBleHRlbmQgPSAob3B0aW9ucywgdGFyZ2V0LCBzb3VyY2VzLCBwYXJlbnRLZXkpLT5cblx0dGFyZ2V0ID0ge30gaWYgbm90IHRhcmdldCBvciB0eXBlb2YgdGFyZ2V0IGlzbnQgJ29iamVjdCcgYW5kIHR5cGVvZiB0YXJnZXQgaXNudCAnZnVuY3Rpb24nXG5cblx0Zm9yIHNvdXJjZSBpbiBzb3VyY2VzIHdoZW4gc291cmNlP1xuXHRcdGZvciBrZXkgb2Ygc291cmNlXG5cdFx0XHRzb3VyY2VWYWx1ZSA9IHNvdXJjZVtrZXldXG5cdFx0XHR0YXJnZXRWYWx1ZSA9IHRhcmdldFtrZXldXG5cdFx0XHRcblx0XHRcdGNvbnRpbnVlIGlmIHNvdXJjZVZhbHVlIGlzIHRhcmdldCBvclxuXHRcdFx0XHRcdFx0c291cmNlVmFsdWUgaXMgdW5kZWZpbmVkIG9yXG5cdFx0XHRcdFx0XHQoc291cmNlVmFsdWUgaXMgbnVsbCBhbmQgbm90IG9wdGlvbnMuYWxsb3dOdWxsIGFuZCBub3Qgb3B0aW9ucy5udWxsRGVsZXRlcykgb3Jcblx0XHRcdFx0XHRcdChvcHRpb25zLmtleXMgYW5kIG5vdCBvcHRpb25zLmtleXNba2V5XSkgb3Jcblx0XHRcdFx0XHRcdChvcHRpb25zLm5vdEtleXMgYW5kIG9wdGlvbnMubm90S2V5c1trZXldKSBvclxuXHRcdFx0XHRcdFx0KG9wdGlvbnMub3duIGFuZCBub3Qgc291cmNlLmhhc093blByb3BlcnR5KGtleSkpIG9yXG5cdFx0XHRcdFx0XHQob3B0aW9ucy5nbG9iYWxGaWx0ZXIgYW5kIG5vdCBvcHRpb25zLmdsb2JhbEZpbHRlcihzb3VyY2VWYWx1ZSwga2V5LCBzb3VyY2UpKSBvclxuXHRcdFx0XHRcdFx0KG9wdGlvbnMuZmlsdGVycyBhbmQgb3B0aW9ucy5maWx0ZXJzW2tleV0gYW5kIG5vdCBvcHRpb25zLmZpbHRlcnNba2V5XShzb3VyY2VWYWx1ZSwga2V5LCBzb3VyY2UpKVxuXHRcdFx0XG5cdFx0XHRpZiBzb3VyY2VWYWx1ZSBpcyBudWxsIGFuZCBvcHRpb25zLm51bGxEZWxldGVzXG5cdFx0XHRcdGRlbGV0ZSB0YXJnZXRba2V5XVxuXHRcdFx0XHRjb250aW51ZVxuXHRcdFx0aWYgb3B0aW9ucy5nbG9iYWxUcmFuc2Zvcm1cblx0XHRcdFx0c291cmNlVmFsdWUgPSBvcHRpb25zLmdsb2JhbFRyYW5zZm9ybShzb3VyY2VWYWx1ZSwga2V5LCBzb3VyY2UpXG5cdFx0XHRpZiBvcHRpb25zLnRyYW5zZm9ybXMgYW5kIG9wdGlvbnMudHJhbnNmb3Jtc1trZXldXG5cdFx0XHRcdHNvdXJjZVZhbHVlID0gb3B0aW9ucy50cmFuc2Zvcm1zW2tleV0oc291cmNlVmFsdWUsIGtleSwgc291cmNlKVxuXHRcblx0XHRcdHN3aXRjaFxuXHRcdFx0XHR3aGVuIG9wdGlvbnMuY29uY2F0IGFuZCBpc0FycmF5KHNvdXJjZVZhbHVlKSBhbmQgaXNBcnJheSh0YXJnZXRWYWx1ZSlcblx0XHRcdFx0XHR0YXJnZXRba2V5XSA9IHRhcmdldFZhbHVlLmNvbmNhdChzb3VyY2VWYWx1ZSlcblx0XHRcdFx0XG5cdFx0XHRcdHdoZW4gc2hvdWxkRGVlcEV4dGVuZChvcHRpb25zLCBrZXksIHBhcmVudEtleSkgYW5kIGlzT2JqZWN0KHNvdXJjZVZhbHVlKVxuXHRcdFx0XHRcdHN1YlRhcmdldCA9IGlmIGlzT2JqZWN0KHRhcmdldFZhbHVlKSB0aGVuIHRhcmdldFZhbHVlIGVsc2UgaWYgaXNBcnJheShzb3VyY2VWYWx1ZSkgdGhlbiBbXSBlbHNlIHt9XG5cdFx0XHRcdFx0dGFyZ2V0W2tleV0gPSBleHRlbmQob3B0aW9ucywgc3ViVGFyZ2V0LCBbc291cmNlVmFsdWVdLCBrZXkpXG5cblx0XHRcdFx0ZWxzZVxuXHRcdFx0XHRcdHRhcmdldFtrZXldID0gc291cmNlVmFsdWVcblxuXG5cdHJldHVybiB0YXJnZXRcblxuXG5cblxuXG5cblxuIiwibW9kdWxlLmV4cG9ydHMgPSBcblx0aXNJRTogZG9jdW1lbnQuYWxsIGFuZCAhd2luZG93LmF0b2Jcblx0aXNJRTExOiB3aW5kb3cubmF2aWdhdG9yLm1zUG9pbnRlckVuYWJsZWRcblx0aXNFZGdlOiAvRWRnZS8udGVzdCB3aW5kb3cubmF2aWdhdG9yPy51c2VyQWdlbnQgb3IgJydcblx0aXNNb2JpbGU6IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGFzc05hbWUuaW5kZXhPZignbW9iaWxlJykgaXNudCAtMSJdfQ==