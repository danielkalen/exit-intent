!function(t){var n,i,e,o,s;return e=document.all&&!window.atob,o=window.navigator.msPointerEnabled,s=document.documentElement.className.indexOf("mobile")!==-1,i={forceOpen:!0},n=function(e){var o,s;return this.el=e.el,o=e.name,s=e.popupOptions,s=t.extend({},i,s),this.name=o||"popup_"+Math.floor(1e5*Math.random()),this.popup=new Popup(this.el,this.name,s),this.disabled=!1,this.isOpen=!1,this.attachOpeningEvents(),this.attachMiscEvents(),n.instances[this.name]=this},n.version="2.0.1",n.instances={},n.disableAll=function(){var t,i,e,o;e=n.instances,o=[];for(i in e)t=e[i],o.push(t.disabled=!0);return o},n.prototype.open=function(){return this.popup.open(),this.isOpen=!0,this.disabled=!0},n.prototype.close=function(){return this.popup.close(),this.isOpen=!1},n.prototype.emit=function(t){return this.el.trigger(t),this.popup.el.trigger(t)},n.prototype.replaceWith=function(t){return this.popup.el.children(".popup-content").html(t),this.attachMiscEvents()},n.prototype.attachOpeningEvents=function(){if(s||t(window).on("mouseleave."+this.name,function(t){return function(n){if(!(t.disabled||Popup.prototype.isOpen||n.clientY>=1))return t.open()}}(this)),!(e||o||s||this.disabled||this.isOpen))return window.history.replaceState({id:"exit-init"},"",""),window.history.pushState({id:"exit-control"},"",""),t(window).on("popstate",function(t){return function(n){if(!t.disabled&&"state"in window.history&&null!==window.history.state&&"exit-control"!==window.history.state.id)return t.open()}}(this))},n.prototype.attachMiscEvents=function(){return t(".popup-overlay").on("click."+this.name,function(n){return function(i){var e,o;if(e=t(i.currentTarget),o=e.hasClass("belongs_to_exit-intent"))return n.popup.el.trigger("closed")}}(this)),this.el.find(".no").on("click."+this.name,function(t){return function(){t.close();try{return localStorage.setItem("exit_intent-complete","true")}catch(t){}}}(this)),this.el.find(".submit").on("click."+this.name,function(t){return function(){return t.emit("submitted")}}(this)),this.el.find(".step").first().find(".next").on("click."+this.name,function(t){return function(){return t.emit("continued")}}(this))},n.prototype.detachEvents=function(){return t(".popup-overlay").off("click."+this.name),this.el.find(".no").off("click."+this.name),this.el.find(".submit").off("click."+this.name),this.el.find(".step").first().find(".next").off("click."+this.name),t(window).off("mouseleave."+this.name)},window.ExitIntent=n}(jQuery);